<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 6 MIPS Arithmetic & Logic Assignment</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter and Fira Code -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Scholarly Neutrals -->
    <!-- Application Structure Plan: Three-part assignment: skills check exercises, practical programming problems, and final submission-ready MIPS program with complete .asm file template. -->
    <!-- Visualization & Content Choices: Interactive feedback for skill-building, complete code templates for submission, and structured rubric for assessment. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #383838;
        }
        
        .worksheet-input {
            font-family: 'Fira Code', monospace;
            border: 1px solid #D1C7BF;
            background-color: #FFFFFF;
            padding: 0.5rem;
            border-radius: 0.375rem;
        }
        
        .worksheet-input:focus {
            outline: none;
            border-color: #4A90E2;
            box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.5);
        }
        
        .submit-btn {
            background-color: #4A90E2;
            color: white;
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
        }
        
        .submit-btn:hover {
            background-color: #357ABD;
        }
        
        .check-btn {
            background-color: #EADDD7;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
        }
        
        .check-btn:hover {
            background-color: #D1C7BF;
        }
        
        .code-block {
            background-color: #f4f4f4;
            border: 1px solid #ddd;
            padding: 1rem;
            border-radius: 0.5rem;
            white-space: pre-wrap;
            font-family: 'Fira Code', monospace;
        }
        
        .correct {
            background-color: #d4edda;
            border-color: #28a745;
        }
        
        .incorrect {
            background-color: #f8d7da;
            border-color: #dc3545;
        }
        
        .register-display {
            background-color: #EADDD7;
            border: 2px solid #D1C7BF;
            border-radius: 0.5rem;
            padding: 0.75rem;
            margin: 0.5rem 0;
        }
        
        .submission-box {
            background-color: #FFFFFF;
            border: 2px solid #4A90E2;
            border-radius: 0.5rem;
            padding: 1.5rem;
        }
        
        @media print {
            .no-print {
                display: none;
            }
            
            body {
                background-color: white;
            }
            
            .worksheet-input, .code-textarea {
                border-bottom: 1px solid #000;
                background: transparent;
            }
        }
        
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #4A90E2;
            color: white;
            padding: 8px;
            z-index: 100;
            text-decoration: none;
        }
        
        .skip-link:focus {
            top: 0;
        }
    </style>
</head>
<body class="antialiased">
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <main id="main-content" class="max-w-4xl mx-auto p-4 md:p-8">
        <header class="mb-8">
            <h1 class="text-3xl md:text-4xl font-bold mb-4">Week 6 MIPS Assignment: Arithmetic & Logic Operations</h1>
            <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500 mb-6">
                <h2 class="text-lg font-semibold mb-2">Assignment Overview</h2>
                <p class="mb-3">This assignment has three parts designed to assess your understanding of MIPS arithmetic and logic instructions:</p>
                <ol class="list-decimal pl-6 space-y-1">
                    <li><strong>Part A:</strong> Skills Check - Interactive exercises to practice individual instructions</li>
                    <li><strong>Part B:</strong> Programming Problems - Write instruction sequences for specific tasks</li>
                    <li><strong>Part C:</strong> Complete Program - Write a full MIPS program for submission (.asm file)</li>
                </ol>
            </div>
            
            <div class="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500 mb-6">
                <h2 class="text-lg font-semibold mb-2">Submission Requirements</h2>
                <ul class="list-disc pl-6 space-y-1">
                    <li>Complete Parts A and B in this webpage, then save as PDF</li>
                    <li>Submit the PDF showing your work for Parts A and B</li>
                    <li>Create a separate .asm file for Part C and test it in MARS</li>
                    <li>Submit both the PDF and .asm file for full credit</li>
                </ul>
            </div>
        </header>

        <!-- Part A: Skills Check -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6">Part A: Skills Check (20 points)</h2>
            <p class="mb-6">Complete these exercises to practice individual MIPS instructions. Use the "Check Answer" buttons to verify your work.</p>
            
            <div class="bg-white p-6 rounded-lg border border-gray-200 mb-6">
                <h3 class="text-xl font-semibold mb-4">A1. Basic Arithmetic (10 points)</h3>
                
                <div class="space-y-4">
                    <div>
                        <label for="a1_1" class="block font-medium mb-2">1. Add registers $t0 and $t1, store result in $t2:</label>
                        <input type="text" id="a1_1" class="worksheet-input w-full" placeholder="instruction $dest, $src1, $src2    # comment">
                        <button class="check-btn mt-2 no-print" onclick="checkAnswer('a1_1', 'add $t2, $t0, $t1')">Check Answer</button>
                        <div id="feedback_a1_1" class="mt-2 text-sm font-medium"></div>
                    </div>
                    
                    <div>
                        <label for="a1_2" class="block font-medium mb-2">2. Subtract $t3 from $t2, store result in $t4:</label>
                        <input type="text" id="a1_2" class="worksheet-input w-full" placeholder="instruction $dest, $src1, $src2    # comment">
                        <button class="check-btn mt-2 no-print" onclick="checkAnswer('a1_2', 'sub $t4, $t2, $t3')">Check Answer</button>
                        <div id="feedback_a1_2" class="mt-2 text-sm font-medium"></div>
                    </div>
                    
                    <div>
                        <label for="a1_3" class="block font-medium mb-2">3. Add immediate value 42 to $s0, store in $s1:</label>
                        <input type="text" id="a1_3" class="worksheet-input w-full" placeholder="instruction $dest, $src, immediate    # comment">
                        <button class="check-btn mt-2 no-print" onclick="checkAnswer('a1_3', 'addi $s1, $s0, 42')">Check Answer</button>
                        <div id="feedback_a1_3" class="mt-2 text-sm font-medium"></div>
                    </div>
                </div>
            </div>
            
            <div class="bg-white p-6 rounded-lg border border-gray-200 mb-6">
                <h3 class="text-xl font-semibold mb-4">A2. Logical Operations (10 points)</h3>
                
                <div class="space-y-4">
                    <div>
                        <label for="a2_1" class="block font-medium mb-2">1. Perform bitwise AND of $t0 and $t1, store in $t2:</label>
                        <input type="text" id="a2_1" class="worksheet-input w-full" placeholder="instruction $dest, $src1, $src2    # comment">
                        <button class="check-btn mt-2 no-print" onclick="checkAnswer('a2_1', 'and $t2, $t0, $t1')">Check Answer</button>
                        <div id="feedback_a2_1" class="mt-2 text-sm font-medium"></div>
                    </div>
                    
                    <div>
                        <label for="a2_2" class="block font-medium mb-2">2. Extract lower 8 bits of $s0 using immediate AND, store in $t0:</label>
                        <input type="text" id="a2_2" class="worksheet-input w-full" placeholder="instruction $dest, $src, immediate    # comment">
                        <button class="check-btn mt-2 no-print" onclick="checkAnswer('a2_2', 'andi $t0, $s0, 0x00FF')">Check Answer</button>
                        <div id="feedback_a2_2" class="mt-2 text-sm font-medium"></div>
                    </div>
                    
                    <div>
                        <label for="a2_3" class="block font-medium mb-2">3. Toggle bits 0-7 of $t1 using XOR with 0xFF, store in $t2:</label>
                        <input type="text" id="a2_3" class="worksheet-input w-full" placeholder="instruction $dest, $src, immediate    # comment">
                        <button class="check-btn mt-2 no-print" onclick="checkAnswer('a2_3', 'xori $t2, $t1, 0x00FF')">Check Answer</button>
                        <div id="feedback_a2_3" class="mt-2 text-sm font-medium"></div>
                    </div>
                </div>
            </div>
            
            <div class="bg-white p-6 rounded-lg border border-gray-200 mb-6">
                <h3 class="text-xl font-semibold mb-4">A3. Shift Operations (5 points)</h3>
                
                <div class="space-y-4">
                    <div>
                        <label for="a3_1" class="block font-medium mb-2">1. Multiply $t0 by 8 using left shift, store in $t1:</label>
                        <input type="text" id="a3_1" class="worksheet-input w-full" placeholder="instruction $dest, $src, amount    # comment">
                        <button class="check-btn mt-2 no-print" onclick="checkAnswer('a3_1', 'sll $t1, $t0, 3')">Check Answer</button>
                        <div id="feedback_a3_1" class="mt-2 text-sm font-medium"></div>
                    </div>
                    
                    <div>
                        <label for="a3_2" class="block font-medium mb-2">2. Divide $t2 by 4 using arithmetic right shift, store in $t3:</label>
                        <input type="text" id="a3_2" class="worksheet-input w-full" placeholder="instruction $dest, $src, amount    # comment">
                        <button class="check-btn mt-2 no-print" onclick="checkAnswer('a3_2', 'sra $t3, $t2, 2')">Check Answer</button>
                        <div id="feedback_a3_2" class="mt-2 text-sm font-medium"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Part B: Programming Problems -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6">Part B: Programming Problems (35 points)</h2>
            <p class="mb-6">Write sequences of MIPS instructions to solve these problems. Include comments for each instruction.</p>
            
            <div class="bg-white p-6 rounded-lg border border-gray-200 mb-6">
                <h3 class="text-xl font-semibold mb-4">B1. Expression Evaluation (15 points)</h3>
                <p class="mb-4">Write MIPS instructions to evaluate: <code class="bg-gray-100 px-2 py-1 rounded">result = (a * 16) + (b / 4) - c</code></p>
                <p class="mb-4">Given: a in $s0, b in $s1, c in $s2. Store final result in $s3. Use shifts for multiplication and division.</p>
                
                <label for="b1_code" class="block font-medium mb-2">Your MIPS code:</label>
                <textarea id="b1_code" class="worksheet-input w-full h-32 code-block" placeholder="# Calculate result = (a * 16) + (b / 4) - c
# Write your MIPS instructions here
# Remember to use shifts for multiplication and division
# Use appropriate registers and include comments"></textarea>
                
                <div class="register-display mt-4">
                    <h4 class="font-semibold mb-2">Test Values:</h4>
                    <div class="text-sm font-mono">
                        If a=5, b=20, c=3, then result = (5*16) + (20/4) - 3 = 80 + 5 - 3 = 82
                    </div>
                </div>
            </div>
            
            <div class="bg-white p-6 rounded-lg border border-gray-200 mb-6">
                <h3 class="text-xl font-semibold mb-4">B2. Bit Field Manipulation (20 points)</h3>
                <p class="mb-4">Given a 32-bit value in $s0, extract and pack specific bit fields:</p>
                <ul class="list-disc pl-6 mb-4 space-y-1">
                    <li>Extract bits 23-16 (upper byte of lower half) → store in $t0</li>
                    <li>Extract bits 7-0 (lowest byte) → store in $t1</li>
                    <li>Combine them as: $t0 in upper 16 bits, $t1 in lower 16 bits → store in $s1</li>
                </ul>
                
                <label for="b2_code" class="block font-medium mb-2">Your MIPS code:</label>
                <textarea id="b2_code" class="worksheet-input w-full h-40 code-block" placeholder="# Extract and pack bit fields from $s0
# Input: $s0 contains 32-bit value (e.g., 0x12345678)
# Write your MIPS instructions here
# Use shifts and masks to extract the required bit fields
# Remember to comment each instruction"></textarea>
                
                <div class="register-display mt-4">
                    <h4 class="font-semibold mb-2">Test Case:</h4>
                    <div class="text-sm font-mono space-y-1">
                        <div>Input $s0: 0x12345678</div>
                        <div>Extract bits 23-16: 0x34</div>
                        <div>Extract bits 7-0: 0x78</div>
                        <div>Final result in $s1: 0x00340078</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Part C: Complete Program -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6">Part C: Complete MIPS Program (40 points)</h2>
            
            <div class="bg-red-50 p-4 rounded-lg border-l-4 border-red-500 mb-6">
                <h3 class="text-lg font-semibold mb-2">SUBMISSION REQUIREMENT</h3>
                <p>Create a new file called <code class="bg-gray-100 px-2 py-1 rounded">lastname_firstname_week6.asm</code> and write a complete MIPS program from scratch. Test your program in MARS simulator and submit the .asm file along with this PDF.</p>
            </div>
            
            <div class="submission-box mb-6">
                <h3 class="text-xl font-semibold mb-4">Program Specification</h3>
                <p class="mb-4">Write a complete MIPS program that performs mathematical calculations and bit manipulations. Your program must compute the following and store results in the specified registers:</p>
                
                <div class="bg-white p-4 rounded-lg border mb-4">
                    <h4 class="font-semibold mb-3">Required Computations:</h4>
                    
                    <div class="space-y-4">
                        <div class="bg-blue-50 p-3 rounded">
                            <h5 class="font-semibold">Computation 1: Complex Expression</h5>
                            <p class="text-sm mb-2">Calculate: <code class="bg-gray-100 px-1 rounded">result = (A × 16) + (B ÷ 8) - (C × 4)</code></p>
                            <ul class="text-sm list-disc pl-6">
                                <li>Use A = 25, B = 128, C = 10</li>
                                <li>Use only shift operations for multiplication and division</li>
                                <li>Store final result in register <strong>$s0</strong></li>
                            </ul>
                        </div>
                        
                        <div class="bg-green-50 p-3 rounded">
                            <h5 class="font-semibold">Computation 2: Bit Field Processing</h5>
                            <p class="text-sm mb-2">Given hexadecimal pattern: <code class="bg-gray-100 px-1 rounded">0xABCD5678</code></p>
                            <ul class="text-sm list-disc pl-6">
                                <li>Extract bits 31-24 (upper byte) → store in <strong>$s1</strong></li>
                                <li>Extract bits 15-8 (third byte) → store in <strong>$s2</strong></li>
                                <li>Extract bits 7-0 (lowest byte) → store in <strong>$s3</strong></li>
                            </ul>
                        </div>
                        
                        <div class="bg-yellow-50 p-3 rounded">
                            <h5 class="font-semibold">Computation 3: Bit Mask Operations</h5>
                            <p class="text-sm mb-2">Create and apply bit masks:</p>
                            <ul class="text-sm list-disc pl-6">
                                <li>Build mask pattern <code class="bg-gray-100 px-1 rounded">0xFF0000FF</code> → store in <strong>$s4</strong></li>
                                <li>Apply this mask to pattern from Computation 2 using AND → store in <strong>$s5</strong></li>
                                <li>Create inverted mask using NOR operation → store in <strong>$s6</strong></li>
                            </ul>
                        </div>
                        
                        <div class="bg-purple-50 p-3 rounded">
                            <h5 class="font-semibold">Computation 4: Logical Combinations</h5>
                            <p class="text-sm mb-2">Perform logical operations on your results:</p>
                            <ul class="text-sm list-disc pl-6">
                                <li>XOR the results from $s0 and $s1 → store in <strong>$s7</strong></li>
                                <li>OR all three extracted bytes ($s1, $s2, $s3) → store in <strong>$t0</strong></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="bg-white p-6 rounded-lg border border-gray-200 mb-6">
                <h3 class="text-xl font-semibold mb-4">Program Requirements</h3>
                
                <div class="space-y-4">
                    <div class="bg-blue-50 p-4 rounded">
                        <h4 class="font-semibold mb-2">Structure Requirements:</h4>
                        <ul class="list-disc pl-6 space-y-1 text-sm">
                            <li>Include <code>.globl main</code> and <code>.text</code> directives</li>
                            <li>Start with <code>main:</code> label</li>
                            <li>End with proper program termination: <code>li $v0, 10</code> and <code>syscall</code></li>
                            <li>Use only arithmetic and logic instructions from Week 6</li>
                        </ul>
                    </div>
                    
                    <div class="bg-yellow-50 p-4 rounded">
                        <h4 class="font-semibold mb-2">Instruction Requirements (Must Use Each):</h4>
                        <ul class="list-disc pl-6 space-y-1 text-sm">
                            <li><code>li</code> - Load immediate values</li>
                            <li><code>add</code> and <code>sub</code> - Arithmetic operations</li>
                            <li><code>sll</code> and <code>srl</code> - Shift operations</li>
                            <li><code>and</code>, <code>or</code>, <code>xor</code>, <code>nor</code> - Logical operations</li>
                            <li><code>andi</code>, <code>ori</code> - Immediate logical operations</li>
                            <li><code>lui</code> - Load upper immediate for 32-bit constants</li>
                        </ul>
                    </div>
                    
                    <div class="bg-green-50 p-4 rounded">
                        <h4 class="font-semibold mb-2">Code Quality Requirements:</h4>
                        <ul class="list-disc pl-6 space-y-1 text-sm">
                            <li>Include a comment header with your name and assignment description</li>
                            <li>Comment every instruction explaining what it does</li>
                            <li>Use meaningful intermediate calculations with temporary registers</li>
                            <li>Organize code into logical sections matching the four computations</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="bg-white p-6 rounded-lg border border-gray-200 mb-6">
                <h3 class="text-xl font-semibold mb-4">Expected Final Register Values</h3>
                <p class="mb-3">After your program completes, these registers should contain:</p>
                
                <div class="grid md:grid-cols-2 gap-4 text-sm font-mono">
                    <div class="bg-gray-50 p-3 rounded">
                        <h5 class="font-semibold mb-2">Results Registers:</h5>
                        <ul class="space-y-1">
                            <li>$s0: 376 (complex expression result)</li>
                            <li>$s1: 0x000000AB (bits 31-24)</li>
                            <li>$s2: 0x00000056 (bits 15-8)</li>
                            <li>$s3: 0x00000078 (bits 7-0)</li>
                        </ul>
                    </div>
                    <div class="bg-gray-50 p-3 rounded">
                        <h5 class="font-semibold mb-2">Mask & Logic Registers:</h5>
                        <ul class="space-y-1">
                            <li>$s4: 0xFF0000FF (created mask)</li>
                            <li>$s5: 0xAB000078 (masked result)</li>
                            <li>$s6: 0x00FFFF00 (inverted mask)</li>
                            <li>$s7: result of ($s0 XOR $s1)</li>
                            <li>$t0: result of ($s1 OR $s2 OR $s3)</li>
                        </ul>
                    </div>
                </div>
                
                <div class="mt-4 text-sm text-gray-600">
                    <p><strong>Verification:</strong> Use MARS register window to check these values after execution.</p>
                </div>
            </div>
            
            <div class="bg-white p-6 rounded-lg border border-gray-200 mb-6">
                <h3 class="text-xl font-semibold mb-4">Grading Rubric (40 points total)</h3>
                
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <h4 class="font-semibold mb-2">Functionality (24 points)</h4>
                        <ul class="list-disc pl-6 space-y-1 text-sm">
                            <li>Computation 1 correct (6 pts)</li>
                            <li>Computation 2 correct (6 pts)</li>
                            <li>Computation 3 correct (6 pts)</li>
                            <li>Computation 4 correct (6 pts)</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="font-semibold mb-2">Code Quality (16 points)</h4>
                        <ul class="list-disc pl-6 space-y-1 text-sm">
                            <li>Proper program structure (4 pts)</li>
                            <li>Required instructions used (4 pts)</li>
                            <li>Clear, helpful comments (4 pts)</li>
                            <li>Efficient register usage (4 pts)</li>
                        </ul>
                    </div>
                </div>
                
                <div class="mt-4 bg-red-50 p-3 rounded border-l-4 border-red-500">
                    <p class="text-sm"><strong>Deductions:</strong> -5 points if program doesn't run in MARS, -3 points for missing program structure elements, -2 points per missing required instruction type.</p>
                </div>
            </div>
        </section>

        <!-- Student Information -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6">Student Information & Submission (5 points)</h2>
            
            <div class="bg-white p-6 rounded-lg border border-gray-200 mb-6">
                <div class="mb-6">
                    <label for="student_name" class="block font-medium mb-2">Name:</label>
                    <input type="text" id="student_name" class="worksheet-input w-full" placeholder="First Last">
                </div>
                
                <div>
                    <label for="reflection" class="block font-medium mb-2">Reflection (5 points): What was the most challenging part of this assignment and how did you work through it?</label>
                    <textarea id="reflection" class="worksheet-input w-full h-32" placeholder="Describe the most difficult concept or problem you encountered and explain the strategies you used to solve it. Include specific examples of instructions or concepts that were challenging and how you overcame those difficulties."></textarea>
                </div>
            </div>
            
            <div class="text-center">
                <button class="submit-btn no-print" onclick="window.print()">Save Parts A & B as PDF</button>
                <p class="text-sm text-gray-600 mt-2">Save this as PDF and submit along with your .asm file for Part C</p>
            </div>
        </section>
    </main>

    <script>
        // Answer checking functionality
        function checkAnswer(inputId, correctAnswer) {
            const input = document.getElementById(inputId);
            const feedback = document.getElementById('feedback_' + inputId);
            const userAnswer = input.value.trim().toLowerCase().replace(/\s+/g, ' ');
            const correct = correctAnswer.toLowerCase().replace(/\s+/g, ' ');
            
            if (userAnswer === correct) {
                input.classList.remove('incorrect');
                input.classList.add('correct');
                feedback.textContent = '✓ Correct!';
                feedback.style.color = '#28a745';
            } else {
                input.classList.remove('correct');
                input.classList.add('incorrect');
                feedback.textContent = '✗ Incorrect. Expected: ' + correctAnswer;
                feedback.style.color = '#dc3545';
            }
        }
        
        // Auto-resize textareas
        document.addEventListener('DOMContentLoaded', function() {
            const textareas = document.querySelectorAll('textarea');
            textareas.forEach(textarea => {
                textarea.addEventListener('input', function() {
                    this.style.height = 'auto';
                    this.style.height = this.scrollHeight + 'px';
                });
            });
            
            // Add keyboard navigation for check buttons
            const checkButtons = document.querySelectorAll('.check-btn');
            checkButtons.forEach(button => {
                button.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        button.click();
                    }
                });
            });
        });
    </script>
</body>
</html>
