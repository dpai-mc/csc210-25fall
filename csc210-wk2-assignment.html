<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSC210 Week 2 Assignment: Boolean Logic and Digital Circuits</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #ffffff;
            font-size: 16px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 2rem;
            margin: -20px -20px 2rem -20px;
            text-align: center;
        }

        header h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        header .meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
            font-size: 0.9rem;
        }

        .meta-item {
            background: rgba(255,255,255,0.1);
            padding: 0.5rem;
            border-radius: 4px;
            text-align: center;
        }

        .section {
            background: #ffffff;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .section-header {
            background: #f8f9fa;
            padding: 1rem 1.5rem;
            border-bottom: 2px solid #3498db;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }

        .section-header:hover {
            background: #e9ecef;
        }

        .section-header h2 {
            color: #2c3e50;
            font-size: 1.4rem;
            margin: 0;
        }

        .points-badge {
            background: #3498db;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: bold;
        }
        
        .points-badge.extra-credit {
            background: #28a745;
        }

        .collapse-icon {
            transition: transform 0.3s ease;
            font-size: 1.2rem;
            color: #3498db;
        }

        .collapse-icon.collapsed {
            transform: rotate(-90deg);
        }

        .section-content {
            padding: 1.5rem;
            transition: max-height 0.4s ease-in-out, padding 0.4s ease-in-out, opacity 0.4s ease-in-out;
            overflow: hidden;
        }

        .section.collapsed .section-content {
            max-height: 0 !important; /* Use important to override dynamic style */
            padding-top: 0;
            padding-bottom: 0;
            opacity: 0;
            border-top: none;
        }

        .overview-box {
            background: #e8f5e8;
            border-left: 4px solid #28a745;
            padding: 1rem;
            margin-bottom: 1.5rem;
        }

        .warning-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 1rem;
            border-radius: 4px;
            margin: 1rem 0;
        }

        .download-section {
            background: #f0f8ff;
            border: 2px solid #3498db;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .download-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .download-btn {
            display: block;
            background: #3498db;
            color: white;
            text-decoration: none;
            padding: 0.75rem;
            border-radius: 4px;
            text-align: center;
            font-weight: bold;
            transition: background 0.3s ease;
        }

        .download-btn:hover {
            background: #2980b9;
        }

        .download-btn:focus {
            outline: 3px solid #74c0fc;
            outline-offset: 2px;
        }

        h3 {
            color: #2c3e50;
            font-size: 1.2rem;
            margin: 1.5rem 0 1rem 0;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #e9ecef;
        }

        h4 {
            color: #34495e;
            font-size: 1.1rem;
            margin: 1rem 0 0.5rem 0;
        }

        ul, ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        .expression-box {
            background: #f8f9fa;
            border: 1px solid #ddd;
            padding: 1rem;
            border-radius: 4px;
            margin: 0.5rem 0;
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
        }

        .subcircuit-list {
            background: #e6f3ff;
            border: 2px solid #3498db;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .subcircuit-list h4 {
            margin-top: 0;
            color: #2c3e50;
        }

        .subcircuit-list ol {
            margin-left: 1rem;
        }

        .rubric-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: white;
        }

        .rubric-table th,
        .rubric-table td {
            border: 1px solid #ddd;
            padding: 0.75rem;
            text-align: left;
        }

        .rubric-table th {
            background: #f8f9fa;
            font-weight: bold;
            color: #2c3e50;
        }

        .rubric-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .tip-card {
            background: #f8f9fa;
            border-left: 4px solid #17a2b8;
            padding: 1rem;
            border-radius: 0 4px 4px 0;
        }

        .tip-card h4 {
            color: #17a2b8;
            margin-top: 0;
        }

        .progress-tracker {
            position: sticky;
            top: 20px;
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 2rem;
            z-index: 100;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 0.5rem 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997);
            width: 0%;
            transition: width 0.5s ease;
        }

        .accessibility-controls {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(52, 73, 94, 0.9);
            color: white;
            padding: 1rem;
            border-radius: 8px;
            z-index: 1000;
        }

        .accessibility-controls h3 {
            color: white;
            font-size: 0.9rem;
            margin: 0 0 0.5rem 0;
            border: none;
        }

        .accessibility-controls button {
            background: #3498db;
            color: white;
            border: none;
            padding: 0.25rem 0.5rem;
            margin: 0.125rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .accessibility-controls button:hover {
            background: #2980b9;
        }

        .accessibility-controls button:focus {
            outline: 2px solid #74c0fc;
            outline-offset: 2px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            header {
                margin: -10px -10px 1rem -10px;
                padding: 1rem;
            }

            header h1 {
                font-size: 1.6rem;
            }

            .section-content {
                padding: 1rem;
            }

            .accessibility-controls {
                position: relative;
                right: auto;
                top: auto;
                background: #f8f9fa;
                color: #333;
                margin-bottom: 1rem;
            }

            .accessibility-controls h3 {
                color: #2c3e50;
            }

            .tips-grid {
                grid-template-columns: 1fr;
            }

            .download-links {
                grid-template-columns: 1fr;
            }
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        @media print {
            .accessibility-controls,
            .progress-tracker {
                display: none !important;
            }
            
            .section {
                break-inside: avoid;
            }
            
            .section-content {
                max-height: none !important;
                opacity: 1 !important;
            }
            
            .section.collapsed .section-content {
                max-height: none !important;
                opacity: 1 !important;
            }
        }
    </style>
    <style>
        .video-transcript-container {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 1200px;
            margin: 20px 0;
            padding: 0;
        }

        .video-wrapper {
            position: relative;
            padding-top: 56.25%;
            height: 0;
        }

        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }

        .transcript-wrapper {
            margin-top: 1rem;
        }

        .transcript-wrapper h4 {
            margin-top: 0;
            font-size: 1.1rem;
            color: #34495e;
        }

        .transcript-content {
            overflow-y: auto;
            max-height: 300px;
            border: 1px solid #e0e0e0;
            padding: 10px;
            background-color: #ffffff;
            border-radius: 4px;
        }
        
        .transcript-content span {
            display: block;
            padding: 8px 12px;
            margin-bottom: 4px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            line-height: 1.5;
        }
        
        .transcript-content span:hover,
        .transcript-content span:focus {
            background-color: #e9e9e9;
            outline: 2px solid #005fcc;
            outline-offset: 2px;
        }
        
        .transcript-content span.active-transcript {
            background-color: #ffe0b2;
            font-weight: bold;
            color: #000;
        }
    </style>
</head>
<body>
    <div class="accessibility-controls" role="region" aria-label="Accessibility controls">
        <h3>Accessibility</h3>
        <button onclick="changeFontSize('increase')" aria-label="Increase font size">A+</button>
        <button onclick="changeFontSize('decrease')" aria-label="Decrease font size">A-</button>
        <button onclick="toggleHighContrast()" aria-label="Toggle high contrast">Contrast</button>
        <button onclick="pauseAnimations()" aria-label="Pause animations">No Motion</button>
    </div>

    <div class="container">
        <header>
            <h1>CSC210 Week 2 Assignment</h1>
            <p>Boolean Logic and Digital Circuits</p>
            <div class="meta">
                <div class="meta-item">
                    <strong>Due:</strong> [Insert Date]
                </div>
                <div class="meta-item">
                    <strong>Points:</strong> 100 Total
                </div>
                <div class="meta-item">
                    <strong>Submission:</strong> Single .circ File + Report
                </div>
            </div>
        </header>

        <div class="progress-tracker" role="region" aria-label="Assignment progress">
            <h3>Progress Tracker</h3>
            <div class="progress-bar" role="progressbar" aria-label="Assignment completion progress" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <p id="progressText">Read through each section to track your progress!</p>
        </div>

        <div class="section" id="overview">
            <div class="section-header" onclick="toggleSection(this)" role="button" tabindex="0" aria-expanded="true" aria-controls="overview-content">
                <h2>Assignment Overview</h2>
                <span class="collapse-icon" aria-label="Expand or collapse section">▼</span>
            </div>
            <div id="overview-content" class="section-content">
                <div class="overview-box">
                    <p><strong>Objective:</strong> This assignment introduces you to Logisim circuit simulation while reinforcing Boolean algebra concepts from lecture. You'll build combinational circuits from basic gates and prove fundamental Boolean laws through both mathematical and practical verification.</p>
                </div>

                <h3>Learning Objectives</h3>
                <ul>
                    <li>Construct digital circuits using basic logic gates in Logisim</li>
                    <li>Verify Boolean algebra laws through circuit simulation</li>
                    <li>Analyze truth tables and Boolean expressions</li>
                    <li>Understand the relationship between algebraic expressions and physical circuits</li>
                    <li>Master subcircuit creation and organization in Logisim</li>
                </ul>

                <div class="download-section">
                    <h3>Required Software: Logisim 2.7.1</h3>
                    <div class="warning-box">
                        <strong>Important:</strong> You must use Logisim 2.7.1 exactly. Logisim Evolution is NOT allowed for this assignment.
                    </div>
                    
                    <div style="background: #f8f9fa; border: 2px solid #28a745; border-radius: 8px; padding: 1rem; margin: 1rem 0;">
                        <h4>Video Tutorial: Installation and Interface Overview</h4>
                        
                        <div class="video-transcript-container">
                            <div class="video-wrapper">
                                <iframe id="youtube-player" 
                                        src="https://www.youtube.com/embed/yrFZyOp5Gv0?si=ETO9BtGZWezK6DHv" 
                                        title="YouTube video player" 
                                        frameborder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                        allowfullscreen>
                                </iframe>
                            </div>
                            <div class="transcript-wrapper">
                                <h4>Interactive Transcript</h4>
                                <div id="transcript-container" class="transcript-content">
                                    <span data-start="0.0" data-end="6.24" tabindex="0" role="button">Aloha so this is week 2's assignment for Boolean logic and digital circuits and I</span>
                                    <span data-start="6.24" data-end="10.62" tabindex="0" role="button">just wanted to go over the assignment a little bit in terms of really Logisim</span>
                                    <span data-start="10.62" data-end="19.68" tabindex="0" role="button">so you need Logisim 2.7.1 it's linked into both here in the in the</span>
                                    <span data-start="19.68" data-end="25.02" tabindex="0" role="button">assignment it's also linked onto the syllabus but what you want to do so I'm</span>
                                    <span data-start="25.02" data-end="28.92" tabindex="0" role="button">gonna do it for Windows is you want to download Logisim for Windows if you're</span>
                                    <span data-start="28.92" data-end="37.5" tabindex="0" role="button">on a Mac you download for Mac okay it's a zip file I'm gonna download it I'm</span>
                                    <span data-start="37.5" data-end="48.9" tabindex="0" role="button">gonna open a folder where it's stored I'm going to extract it doesn't matter</span>
                                    <span data-start="48.9" data-end="56.24" tabindex="0" role="button">where I extract it to okay and so you're gonna get a file let me</span>
                                    <span data-start="58.92" data-end="104.6" tabindex="0" role="button">include file name extensions it's a exe file okay so wherever you put it put it</span>
                                    <span data-start="104.6" data-end="108.34" tabindex="0" role="button">on your desktop put it in downloads doesn't matter where you put it on your</span>
                                    <span data-start="108.34" data-end="112.92" tabindex="0" role="button">computer to run it all you have to do is double click on it to run it it's an exe</span>
                                    <span data-start="112.92" data-end="121.48" tabindex="0" role="button">file but it does require Java run so okay so it's gonna say requires a the</span>
                                    <span data-start="121.48" data-end="126.04" tabindex="0" role="button">Java runtime environment one point five point zero or later okay so you can say</span>
                                    <span data-start="126.04" data-end="128.42" tabindex="0" role="button">okay and in my case what it's going to do it's going to open a word file so let's just say</span>
                                    <span data-start="128.92" data-end="139.16" tabindex="0" role="button">up know why this let me but it's gonna open up our browser and says download</span>
                                    <span data-start="139.16" data-end="144.66" tabindex="0" role="button">Java someone else download job for desktop should do the same on your Mac</span>
                                    <span data-start="144.66" data-end="150.94" tabindex="0" role="button">okay and then you're gonna open that file to install it you can install the</span>
                                    <span data-start="150.94" data-end="158.02" tabindex="0" role="button">Java runtime environment and then once it's finished installing which depending</span>
                                    <span data-start="158.02" data-end="162.82" tabindex="0" role="button">upon your computer for download and your CPU for processing how fast it'll</span>
                                    <span data-start="162.82" data-end="176.32" tabindex="0" role="button">process once it's done you can go back to your exe file double click on it and</span>
                                    <span data-start="176.32" data-end="181.06" tabindex="0" role="button">it should run okay and so this is your environment this is what it looks like</span>
                                    <span data-start="181.06" data-end="187.58" tabindex="0" role="button">the right side here is where you draw stuff the left side down the left you</span>
                                    <span data-start="187.58" data-end="188.0" tabindex="0" role="button">have these</span>
                                    <span data-start="188.0" data-end="194.06" tabindex="0" role="button">folders we are going to only use gates and wiring we're not gonna use anything</span>
                                    <span data-start="194.06" data-end="199.52" tabindex="0" role="button">from end of the rest okay these are pre-built things in the software we're</span>
                                    <span data-start="199.52" data-end="207.02" tabindex="0" role="button">gonna use gates okay and then up here you have some icons to do stuff and then</span>
                                    <span data-start="207.02" data-end="212.42" tabindex="0" role="button">you have your menu all right so what we're gonna do is use gates and so how</span>
                                    <span data-start="212.42" data-end="217.0" tabindex="0" role="button">we use this is if we want to not gate for instance we want to put a not gate</span>
                                    <span data-start="218.0" data-end="223.9" tabindex="0" role="button">for instance we're going to use gates here and then we're gonna add an icon</span>
                                    <span data-start="223.9" data-end="229.06" tabindex="0" role="button">okay what we're gonna do is you see this me says Main so Main is our basic</span>
                                    <span data-start="229.06" data-end="236.1" tabindex="0" role="button">environment I want to add a new circuit or a sub-circuit to this so I can add a</span>
                                    <span data-start="236.1" data-end="242.6" tabindex="0" role="button">project I can go project add circuit the first one okay so the first thing I</span>
                                    <span data-start="242.6" data-end="247.8" tabindex="0" role="button">probably save it you want to save your file</span>
                                    <span data-start="248.0" data-end="254.24" tabindex="0" role="button">know give it a name whatever it's supposed to be</span>
                                    <span data-start="255.2" data-end="257.52" tabindex="0" role="button">you know</span>
                                    <span data-start="258.48" data-end="262.08" tabindex="0" role="button">okay you don't have to add the dot carc because that's the default</span>
                                    <span data-start="262.08" data-end="264.56" tabindex="0" role="button">save it</span>
                                    <span data-start="265.2" data-end="271.04" tabindex="0" role="button">and if i go to my documents now</span>
                                    <span data-start="272.16" data-end="276.72" tabindex="0" role="button">i should have my assignment name.circ and i can always open it because it's</span>
                                    <span data-start="276.72" data-end="280.96" tabindex="0" role="button">stored there okay and so what i want to do is i want</span>
                                    <span data-start="280.96" data-end="284.16" tabindex="0" role="button">to add a circuit so go project add circuit</span>
                                    <span data-start="284.16" data-end="287.28" tabindex="0" role="button">i'm going to add a not gate</span>
                                    <span data-start="289.12" data-end="294.48" tabindex="0" role="button">whatever it's supposed to be named name it and now what i want to do is see</span>
                                    <span data-start="294.48" data-end="297.6" tabindex="0" role="button">that the um magnifying glass is on not gate</span>
                                    <span data-start="297.6" data-end="301.44" tabindex="0" role="button">circuit okay so then i will go to the gate</span>
                                    <span data-start="301.44" data-end="306.72" tabindex="0" role="button">itself and i will grab a not gate</span>
                                    <span data-start="307.36" data-end="310.32" tabindex="0" role="button">there it is it's hard to read these because</span>
                                    <span data-start="310.32" data-end="313.6" tabindex="0" role="button">they're so small</span>
                                    <span data-start="314.96" data-end="318.88" tabindex="0" role="button">actually let's see actually i'm going to grab this one up here but it's a not</span>
                                    <span data-start="318.88" data-end="321.84" tabindex="0" role="button">gate should be in here i can't read those but</span>
                                    <span data-start="321.84" data-end="329.04" tabindex="0" role="button">there's an icon up here for add not gate and click on it to select it and drop it</span>
                                    <span data-start="329.04" data-end="331.84" tabindex="0" role="button">in now if it's hard to see down here in</span>
                                    <span data-start="331.84" data-end="336.56" tabindex="0" role="button">this at the very bottom left hand corner you'll see this 100 percent</span>
                                    <span data-start="337.04" data-end="341.12" tabindex="0" role="button">and these up and down arrows and i can click the arrow to</span>
                                    <span data-start="341.12" data-end="346.4" tabindex="0" role="button">blow it up okay and if i don't like those grid points next to it there's a</span>
                                    <span data-start="346.4" data-end="350.4" tabindex="0" role="button">little patch and i can turn them off but typically i leave them on</span>
                                    <span data-start="350.4" data-end="354.4" tabindex="0" role="button">so you can blow it up so you can see it and what i want you to notice is that</span>
                                    <span data-start="354.4" data-end="360.8" tabindex="0" role="button">the not gate has a red dot that when i put my mouse over it</span>
                                    <span data-start="360.8" data-end="366.64" tabindex="0" role="button">when the mouse is on the arrow okay it puts a green circle around it okay that's the out</span>
                                    <span data-start="366.64" data-end="370.24" tabindex="0" role="button">bit of the knot gate so i can draw a line i can click and</span>
                                    <span data-start="370.24" data-end="375.44" tabindex="0" role="button">drag and that's my wire again there's a blue</span>
                                    <span data-start="375.44" data-end="379.68" tabindex="0" role="button">one which is my input side that's the input</span>
                                    <span data-start="379.68" data-end="383.6" tabindex="0" role="button">okay and now what i want to do is connect the input to an input</span>
                                    <span data-start="383.6" data-end="387.76" tabindex="0" role="button">pin and the output to an output pin so the square up here is an</span>
                                    <span data-start="387.76" data-end="391.84" tabindex="0" role="button">input pin so i can click on that and drop one in</span>
                                    <span data-start="391.84" data-end="403.12" tabindex="0" role="button">okay i did that on purpose moved it i didn't connect it on purpose and the round ones is an output pin.</span>
                                    <span data-start="403.12" data-end="409.58" tabindex="0" role="button">I can click on that and then drop one of those in. Okay. When I click on any item, there is a, it says what it is, selection pin, and then there's some attributes for that</span>
                                    <span data-start="409.58" data-end="419.88" tabindex="0" role="button">item.</span>
                                    <span data-start="419.88" data-end="425.76" tabindex="0" role="button">Okay. Facing east means this connection point is to the east or right side. So I want to change that. I can change it to north and it'll be on the top. Okay.</span>
                                    <span data-start="425.76" data-end="435.18" tabindex="0" role="button">But I want it on the right side. It's the default output. No, because it's an input pin.</span>
                                    <span data-start="435.18" data-end="441.18" tabindex="0" role="button">I said, yes, then it becomes round because of an output pin. And we want it.</span>
                                    <span data-start="441.18" data-end="447.64" tabindex="0" role="button">No, because input pin data bits one, because we're just using one bit right now. Three state.</span>
                                    <span data-start="447.64" data-end="453.08" tabindex="0" role="button">No, it should always, you want to always be no, you never want three state.</span>
                                    <span data-start="453.08" data-end="455.74" tabindex="0" role="button">And for now we leave the rest. If I want to label, like I want to label this input A, I can type capital A.</span>
                                    <span data-start="455.76" data-end="462.3" tabindex="0" role="button">And I'll put an input there. Okay. And then I can grab, oops, as long as the arrow is selected,</span>
                                    <span data-start="462.3" data-end="472.34" tabindex="0" role="button">I can click on it and drag it wherever I want.</span>
                                    <span data-start="472.34" data-end="479.56" tabindex="0" role="button">Okay. And what I want to do is connect this to the input side. Okay.</span>
                                    <span data-start="479.56" data-end="485.74" tabindex="0" role="button">So I want to make sure that that dot on the square is connected to the wire.</span>
                                    <span data-start="485.74" data-end="493.36" tabindex="0" role="button">It's connected to the input of my not gate and my output. Click on output, same idea, right? I can rotate this west, north, south, east.</span>
                                    <span data-start="493.36" data-end="503.1" tabindex="0" role="button">I'll put, yes, data bit one, three state. I'm going to change that to no. Okay.</span>
                                    <span data-start="503.1" data-end="505.16" tabindex="0" role="button">And then we can put out if we want.</span>
                                    <span data-start="505.16" data-end="510.58" tabindex="0" role="button">Similarly, I'm going to grab and drag this.</span>
                                    <span data-start="510.58" data-end="515.68" tabindex="0" role="button">Okay. And I'm going to connect this to this wire. All right.</span>
                                    <span data-start="515.68" data-end="521.84" tabindex="0" role="button">And now I can click on this hand and I can go, this simulation mode so I can toggle the one A and see what happens to output.</span>
                                    <span data-start="521.84" data-end="528.62" tabindex="0" role="button">When A is zero, output's one. When A is one, output's zero. Okay.</span>
                                    <span data-start="528.62" data-end="533.42" tabindex="0" role="button">And you can do this multiple things. Okay. A couple of things that I want to point out when you're doing things like, let's say you have an</span>
                                    <span data-start="533.42" data-end="541.78" tabindex="0" role="button">AND gate. So I have an AND gate. I put in this AND gate. Okay.</span>
                                </div>
                            </div>
                        </div>
                        <p><strong>Tutorial Contents:</strong></p>
                        <ul>
                            <li>How to download and install Logisim 2.7.1</li>
                            <li>Overview of the main interface components</li>
                            <li>Creating your first circuit with basic gates</li>
                            <li>Adding input/output pins and testing circuits</li>
                            <li>Creating and naming subcircuits</li>
                            <li>Tips for organizing your workspace</li>
                        </ul>
                        <p><em>Watch this tutorial before beginning your assignment to ensure you're comfortable with the Logisim interface.</em></p>
                    </div>
                    <div class="download-links">
                        <a href="https://mendocinocollege-my.sharepoint.com/:u:/g/personal/dpai_mendocino_edu/ETE3bbN1a1tPrHQzXB8cLqcB5zOZSBuM9BrdcxuGxJghDw?e=fkGhtZ" class="download-btn" target="_blank" rel="noopener noreferrer" aria-describedby="windows-desc">
                            💻 Logisim 2.7.1 for Windows
                            <span id="windows-desc" class="sr-only">Download Logisim 2.7.1 for Windows operating system</span>
                        </a>
                        <a href="https://mendocinocollege-my.sharepoint.com/:u:/g/personal/dpai_mendocino_edu/EcjnlCXLT1pEvSjVBVemxLkBVe-pwL3ukH6qbyBMkv9ZHg?e=yvVnm8" class="download-btn" target="_blank" rel="noopener noreferrer" aria-describedby="mac-desc">
                            🍎 Logisim 2.7.1 for MacOS
                            <span id="mac-desc" class="sr-only">Download Logisim 2.7.1 for MacOS operating system</span>
                        </a>
                    </div>
                </div>
                <h3>File Structure</h3>
                <p>All circuits must be created as <strong>subcircuits</strong> within a single file named <code>lastname_firstname_week2.circ</code>. Each part of the assignment should be implemented as a separate subcircuit with the naming convention specified in each section.</p>
                <div class="warning-box">
                    <h4>Boolean Expression Notation Guide</h4>
                    <p><strong>Understanding Boolean Symbols:</strong></p>
                    <ul>
                        <li><strong>AND Operation:</strong> AB or A·B (multiplication)</li>
                        <li><strong>OR Operation:</strong> A + B (addition)</li>
                        <li><strong>NOT Operation:</strong> A' or <span style="text-decoration: overline;">A</span> (negation)</li>
                    </ul>
                    <p><strong>Critical: Order of Operations</strong></p>
                    <p>In expressions like <strong>A'B</strong>, the NOT symbol applies <em>only</em> to the variable it immediately follows. This means:</p>
                    <div class="expression-box">
                        A'B = (NOT A) AND B<br>
                        AB' = A AND (NOT B)<br>
                        A'B' = (NOT A) AND (NOT B)
                    </div>
                    <p>Always read the NOT symbol as applying to the single variable directly before it, just like a mathematical exponent.</p>
                </div>
            </div>
        </div>
        
        <div class="section" id="part-a">
            <div class="section-header" onclick="toggleSection(this)" role="button" tabindex="0" aria-expanded="true" aria-controls="part-a-content">
                <h2>Part A: Logisim Familiarization <span class="points-badge">15 points</span></h2>
                <span class="collapse-icon" aria-label="Expand or collapse section">▼</span>
            </div>
            <div id="part-a-content" class="section-content">
                <h3>Objective</h3>
                <p>Learn basic Logisim operations and subcircuit creation.</p>

                <h3>Tasks</h3>
                <h4>1. Create Main Circuit File (3 points)</h4>
                <ul>
                    <li>Create a new circuit file named <code>lastname_firstname_week2.circ</code></li>
                    <li>The main circuit should contain a brief title and your name as text</li>
                </ul>

                <h4>2. Basic Gate Library (12 points)</h4>
                <ul>
                    <li>Create a subcircuit named <code>gate_library</code></li>
                    <li>Place one of each basic gate: AND, OR, NOT, NAND, NOR, XOR</li>
                    <li>Add input pins (A, B) and connect them to each gate where applicable</li>
                    <li>Add output pins for each gate and label them clearly (AND_out, OR_out, etc.)</li>
                    <li>For single-input gates (NOT), connect input A only</li>
                </ul>

                <h3>Subcircuit Requirements</h3>
                <ul>
                    <li>Use Logisim's "Add Circuit" feature to create subcircuits</li>
                    <li>Name your subcircuit exactly as specified</li>
                    <li>Include proper input/output pin labeling</li>
                    <li>Test functionality by switching between main circuit and subcircuit views</li>
                </ul>

                <h3>Deliverables</h3>
                <ul>
                    <li>Subcircuit <code>gate_library</code> within your main .circ file</li>
                    <li>Written verification that all gates work correctly</li>
                </ul>
            </div>
        </div>

        <div class="section" id="part-b">
            <div class="section-header" onclick="toggleSection(this)" role="button" tabindex="0" aria-expanded="true" aria-controls="part-b-content">
                <h2>Part B: Boolean Expression Implementation <span class="points-badge">25 points</span></h2>
                <span class="collapse-icon" aria-label="Expand or collapse section">▼</span>
            </div>
            <div id="part-b-content" class="section-content">
                <h3>Objective</h3>
                <p>Translate Boolean expressions into working digital circuits.</p>

                <p>Build the following expressions as separate subcircuits:</p>

                <h4>Expression 1: F1 = AB + A'C (8 points)</h4>
                <div class="expression-box">F1 = AB + A'C</div>
                <ul>
                    <li>Subcircuit name: <code>expr1_ab_plus_ac</code></li>
                    <li>Use 3 inputs (A, B, C) and 1 output (F1)</li>
                    <li>Build using basic gates (AND, OR, NOT)</li>
                </ul>

                <h4>Expression 2: F2 = (A + B)(A' + C) (9 points)</h4>
                <div class="expression-box">F2 = (A + B)(A' + C)</div>
                <ul>
                    <li>Subcircuit name: <code>expr2_product_form</code></li>
                    <li>Use 3 inputs (A, B, C) and 1 output (F2)</li>
                    <li>Build the circuit as written (don't simplify first)</li>
                </ul>

                <h4>Expression 3: F3 = A'B'C' + A'BC + AB'C' + ABC (8 points)</h4>
                <div class="expression-box">F3 = A'B'C' + A'BC + AB'C' + ABC</div>
                <ul>
                    <li>Subcircuit name: <code>expr3_sum_of_products</code></li>
                    <li>Use 3 inputs (A, B, C) and 1 output (F3)</li>
                    <li>Build using sum-of-products form</li>
                </ul>

                <h3>Requirements</h3>
                <ul>
                    <li>Each expression must be in its own subcircuit</li>
                    <li>Use consistent input/output naming (A, B, C inputs; F1/F2/F3 outputs)</li>
                    <li>Create truth table verification for each expression</li>
                    <li>Document gate counts for each implementation</li>
                </ul>
            </div>
        </div>

        <div class="section" id="part-c">
            <div class="section-header" onclick="toggleSection(this)" role="button" tabindex="0" aria-expanded="true" aria-controls="part-c-content">
                <h2>Part C: De Morgan's Laws Verification <span class="points-badge">35 points</span></h2>
                <span class="collapse-icon" aria-label="Expand or collapse section">▼</span>
            </div>
            <div id="part-c-content" class="section-content">
                <h3>Objective</h3>
                <p>Prove De Morgan's Laws through both algebraic manipulation and circuit construction.</p>

                <div class="expression-box">
                    <strong>Law 1:</strong> NOT(A AND B) = (NOT A) OR (NOT B)<br>
                    <strong>Law 2:</strong> NOT(A OR B) = (NOT A) AND (NOT B)
                </div>

                <h3>Tasks</h3>

                <h4>1. Algebraic Proof (10 points)</h4>
                <ul>
                    <li>Create complete truth tables for both sides of each law</li>
                    <li>Show that the truth tables are identical</li>
                    <li>Explain why this constitutes a proof</li>
                </ul>

                <h4>2. Circuit Implementation - Law 1 (12 points)</h4>
                <ul>
                    <li>Subcircuit name: <code>demorgan_law1</code></li>
                    <li><strong>Circuit Layout Requirements:</strong>
                        <ul>
                            <li>Use shared input pins A and B at the top of your subcircuit</li>
                            <li>Build the left side circuit: <code>NOT(A AND B)</code> in the upper portion</li>
                            <li>Build the right side circuit: <code>(NOT A) OR (NOT B)</code> in the lower portion</li>
                            <li>Align the output pins vertically so you can easily compare results</li>
                            <li>Label outputs: <code>LEFT_SIDE</code> and <code>RIGHT_SIDE</code></li>
                        </ul>
                    </li>
                    <li><strong>Verification Circuit:</strong> Add an XOR gate connecting both outputs to prove they're always equal (output should always be 0)</li>
                    <li>Connect the same input pins to both circuits for direct comparison</li>
                </ul>

                <h4>3. Circuit Implementation - Law 2 (13 points)</h4>
                <ul>
                    <li>Subcircuit name: <code>demorgan_law2</code></li>
                    <li><strong>Circuit Layout Requirements:</strong>
                        <ul>
                            <li>Use shared input pins A and B at the top of your subcircuit</li>
                            <li>Build the left side circuit: <code>NOT(A OR B)</code> in the upper portion</li>
                            <li>Build the right side circuit: <code>(NOT A) AND (NOT B)</code> in the lower portion</li>
                            <li>Align the output pins vertically for easy visual comparison</li>
                            <li>Label outputs: <code>LEFT_SIDE</code> and <code>RIGHT_SIDE</code></li>
                        </ul>
                    </li>
                    <li><strong>Verification Circuit:</strong> Add an XOR gate connecting both outputs to prove equality</li>
                    <li>Use identical inputs for both circuit halves to enable interactive testing</li>
                </ul>

                <div class="warning-box">
                    <h4>Circuit Comparison Best Practices</h4>
                    <p><strong>For Interactive Proof:</strong></p>
                    <ul>
                        <li>Place input pins at the top, outputs at the bottom</li>
                        <li>Use the same input values for both sides of the equation</li>
                        <li>Vertically align corresponding outputs for easy visual comparison</li>
                        <li>When testing, toggle inputs and observe that both outputs always match</li>
                        <li>The XOR verification output should remain 0 for all input combinations</li>
                    </ul>
                    <p><strong>Why This Layout Matters:</strong> This arrangement allows you to interactively prove the laws by testing all input combinations and visually confirming that both sides always produce identical results.</p>
                </div>

                <h3>Verification Requirements</h3>
                <ul>
                    <li>Test all 4 possible input combinations (00, 01, 10, 11)</li>
                    <li>The comparison output should always be 0 (proving equality)</li>
                    <li>Document that both sides produce identical outputs for all inputs</li>
                    <li>Include screenshots of your subcircuits</li>
                    <li>Explain the practical significance of De Morgan's Laws in circuit design</li>
                </ul>
            </div>
        </div>

        <div class="section" id="part-d">
            <div class="section-header" onclick="toggleSection(this)" role="button" tabindex="0" aria-expanded="true" aria-controls="part-d-content">
                <h2>Part D: Circuit Analysis and Simplification <span class="points-badge">25 points</span></h2>
                <span class="collapse-icon" aria-label="Expand or collapse section">▼</span>
            </div>
            <div id="part-d-content" class="section-content">
                <h3>Objective</h3>
                <p>Analyze complex circuits and apply Boolean algebra for simplification.</p>

                <div class="expression-box">
                    <strong>Given Expression:</strong><br>
                    F = ABC + AB'C + A'BC + A'B'C'
                </div>

                <h3>Tasks</h3>

                <h4>1. Original Circuit Implementation (8 points)</h4>
                <ul>
                    <li>Subcircuit name: <code>original_complex</code></li>
                    <li>Build the circuit exactly as given (sum-of-products form)</li>
                    <li>Use inputs A, B, C and output F_original</li>
                    <li>Count and document the total number of gates used</li>
                </ul>

                <h4>2. Boolean Simplification (10 points)</h4>
                <ul>
                    <li>Simplify the expression using Boolean algebra laws</li>
                    <li>Show each step of your simplification process</li>
                    <li>State which Boolean laws you applied at each step</li>
                    <li>Create a truth table to verify your simplification is correct</li>
                </ul>

                <h4>3. Simplified Circuit Implementation (7 points)</h4>
                <ul>
                    <li>Subcircuit name: <code>simplified_complex</code></li>
                    <li>Build a circuit for your simplified expression</li>
                    <li>Use inputs A, B, C and output F_simplified</li>
                    <li>Count gates in simplified version</li>
                </ul>

                <h3>Main Circuit Integration</h3>
                <ul>
                    <li>Create a subcircuit named <code>comparison_demo</code></li>
                    <li><strong>Layout for Circuit Comparison:</strong>
                        <ul>
                            <li>Place shared input pins (A, B, C) at the top of the subcircuit</li>
                            <li>Position the original complex circuit in the upper half</li>
                            <li>Position the simplified circuit in the lower half</li>
                            <li>Align the output pins (F_original and F_simplified) vertically</li>
                            <li>Connect the same input pins to both circuits</li>
                        </ul>
                    </li>
                    <li><strong>Verification:</strong> Add an XOR gate between the outputs to verify they're identical (should always output 0)</li>
                    <li><strong>Gate Count Display:</strong> Use text labels to show gate counts for each version</li>
                </ul>

                <div class="warning-box">
                    <h4>Interactive Circuit Comparison</h4>
                    <p>The comparison layout allows you to:</p>
                    <ul>
                        <li>Toggle input combinations and immediately see both circuit outputs</li>
                        <li>Visually verify that simplification preserves functionality</li>
                        <li>Demonstrate the efficiency gain from fewer gates</li>
                        <li>Use the XOR verification to prove mathematical equivalence</li>
                    </ul>
                    <p><strong>Testing Protocol:</strong> Test all 8 possible input combinations (000 through 111) and verify that both outputs match for every combination.</p>
                </div>

                <h3>Analysis Questions</h3>
                <ul>
                    <li>How many gates did you eliminate through simplification?</li>
                    <li>What percentage reduction in gate count did you achieve?</li>
                    <li>Which Boolean laws were most useful in this simplification?</li>
                    <li>Why is circuit simplification important in digital design?</li>
                </ul>
            </div>
        </div>

        <div class="section" id="requirements">
            <div class="section-header" onclick="toggleSection(this)" role="button" tabindex="0" aria-expanded="true" aria-controls="requirements-content">
                <h2>Submission Requirements</h2>
                <span class="collapse-icon" aria-label="Expand or collapse section">▼</span>
            </div>
            <div id="requirements-content" class="section-content">
                <div class="subcircuit-list">
                    <h4>Required Subcircuits in Your .circ File:</h4>
                    <ol>
                        <li><code>gate_library</code></li>
                        <li><code>expr1_ab_plus_ac</code></li>
                        <li><code>expr2_product_form</code></li>
                        <li><code>expr3_sum_of_products</code></li>
                        <li><code>demorgan_law1</code></li>
                        <li><code>demorgan_law2</code></li>
                        <li><code>original_complex</code></li>
                        <li><code>simplified_complex</code></li>
                        <li><code>comparison_demo</code></li>
                    </ol>
                </div>

                <h3>Files to Submit</h3>
                <ol>
                    <li><strong>Single Circuit File:</strong> <code>lastname_firstname_week2.circ</code> containing all required subcircuits</li>
                    <li><strong>Written Report:</strong>
                        <ul>
                            <li>Truth tables for all expressions</li>
                            <li>Screenshots of each subcircuit</li>
                            <li>Step-by-step algebraic work for simplifications</li>
                            <li>Gate count comparisons</li>
                            <li>Analysis answers for Part D</li>
                            <li>Reflection on learning</li>
                        </ul>
                    </li>
                </ol>

                <h3>Logisim 2.7.1 Specific Requirements</h3>
                <ul>
                    <li>Use only standard gates available in Logisim 2.7.1</li>
                    <li>Do not use any advanced components or custom libraries</li>
                    <li>Ensure your file opens correctly in Logisim 2.7.1</li>
                    <li>Test all subcircuits before submission</li>
                </ul>
            </div>
        </div>

        <div class="section" id="grading">
            <div class="section-header" onclick="toggleSection(this)" role="button" tabindex="0" aria-expanded="true" aria-controls="grading-content">
                <h2>Grading Rubric</h2>
                <span class="collapse-icon" aria-label="Expand or collapse section">▼</span>
            </div>
            <div id="grading-content" class="section-content">
                <table class="rubric-table" role="table" aria-label="Grading rubric for assignment components">
                    <thead>
                        <tr>
                            <th>Component</th>
                            <th>Points</th>
                            <th>Criteria</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Part A</strong></td>
                            <td>15</td>
                            <td>Subcircuit creation, gate functionality, organization</td>
                        </tr>
                        <tr>
                            <td><strong>Part B</strong></td>
                            <td>25</td>
                            <td>Correct implementation, subcircuit naming, truth tables</td>
                        </tr>
                        <tr>
                            <td><strong>Part C</strong></td>
                            <td>35</td>
                            <td>Mathematical proof, working subcircuits, comprehensive testing</td>
                        </tr>
                        <tr>
                            <td><strong>Part D</strong></td>
                            <td>25</td>
                            <td>Accurate simplification, gate optimization, comparison</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Quality Standards</h3>
                <ul>
                    <li><strong>Subcircuit Organization:</strong> Each subcircuit focused on single task</li>
                    <li><strong>Naming Conventions:</strong> Exact subcircuit names as specified</li>
                    <li><strong>Circuit Layout:</strong> Gates arranged logically, minimal wire crossing</li>
                    <li><strong>Documentation:</strong> Clear explanations and step-by-step work shown</li>
                    <li><strong>Testing:</strong> Evidence that all subcircuits were thoroughly tested</li>
                </ul>
            </div>
        </div>

        <div class="section" id="tips">
            <div class="section-header" onclick="toggleSection(this)" role="button" tabindex="0" aria-expanded="true" aria-controls="tips-content">
                <h2>Tips for Success</h2>
                <span class="collapse-icon" aria-label="Expand or collapse section">▼</span>
            </div>
            <div id="tips-content" class="section-content">
                <div class="tips-grid">
                    <div class="tip-card">
                        <h4>Logisim 2.7.1 Best Practices</h4>
                        <ul>
                            <li>Plan your layout before building</li>
                            <li>Use subcircuits properly</li>
                            <li>Test incrementally</li>
                            <li>Save frequently</li>
                            <li>Check connections</li>
                        </ul>
                    </div>
                    
                    <div class="tip-card">
                        <h4>Boolean Algebra Tips</h4>
                        <ul>
                            <li>Work systematically</li>
                            <li>Verify with truth tables</li>
                            <li>Look for common patterns</li>
                            <li>Document gate counts</li>
                        </ul>
                    </div>
                    
                    <div class="tip-card">
                        <h4>Common Mistakes to Avoid</h4>
                        <ul>
                            <li>Incorrect subcircuit naming</li>
                            <li>Unconnected pins</li>
                            <li>Using wrong Logisim version</li>
                            <li>Not testing all combinations</li>
                        </ul>
                    </div>
                </div>

                <h3>Subcircuit Creation Steps</h3>
                <ol>
                    <li>Right-click in project explorer → Add Circuit</li>
                    <li>Name your subcircuit exactly as specified</li>
                    <li>Add input/output pins from I/O library</li>
                    <li>Build your logic circuit</li>
                    <li>Test in subcircuit view before using in main circuit</li>
                </ol>

                <h3>Circuit Comparison Layout Guide</h3>
                <div class="tip-card">
                    <h4>For De Morgan's Laws and Circuit Comparisons</h4>
                    <p><strong>Recommended Layout Pattern:</strong></p>
                    <ul>
                        <li><strong>Top:</strong> Shared input pins (A, B, C)</li>
                        <li><strong>Upper half:</strong> First circuit (original expression)</li>
                        <li><strong>Lower half:</strong> Second circuit (equivalent expression)</li>
                        <li><strong>Bottom:</strong> Aligned output pins for visual comparison</li>
                        <li><strong>Side:</strong> XOR gate connecting outputs (for verification)</li>
                    </ul>
                    <p>This arrangement enables interactive testing where you toggle inputs and immediately see both outputs change, proving equivalence through direct observation.</p>
                </div>

                <h3>Troubleshooting</h3>
                <h4>If Your Circuit Doesn't Work:</h4>
                <ul>
                    <li>Check that all pins are connected (no red X's)</li>
                    <li>Verify input/output pin placement and names</li>
                    <li>Use the Hand tool to test different input combinations</li>
                    <li>Check that subcircuit is properly saved and named</li>
                </ul>

                <h4>Version Compatibility:</h4>
                <ul>
                    <li>Only Logisim 2.7.1 files will be accepted</li>
                    <li>Test your final file by closing and reopening it</li>
                    <li>Ensure all subcircuits appear in the project explorer</li>
                </ul>
            </div>
        </div>

        <div class="section" id="help">
            <div class="section-header" onclick="toggleSection(this)" role="button" tabindex="0" aria-expanded="true" aria-controls="help-content">
                <h2>Getting Help</h2>
                <span class="collapse-icon" aria-label="Expand or collapse section">▼</span>
            </div>
            <div id="help-content" class="section-content">
                <h3>Resources</h3>
                <ul>
                    <li><strong>Logisim 2.7.1 Documentation:</strong> <a href="https://cburch.com/logisim/docs.html" target="_blank" rel="noopener noreferrer">Official Documentation</a></li>
                    <li><strong>Course Tutor:</strong> <a href="https://www.playlab.ai/project/cmenet5ig00ccil0u7kpqihg2" target="_blank" rel="noopener noreferrer">AI Tutor for CSC210</a></li>
                    <li><strong>Peer: Questions and Help Forum:</strong> <a href="https://mendocino.instructure.com/courses/19705/discussion_topics/251135" target="_blank" rel="noopener noreferrer">Student Discussion Forum</a></li>
                </ul>

                <h3>Academic Integrity</h3>
                <div class="warning-box">
                    <strong>Important Guidelines:</strong>
                    <ul>
                        <li>You may discuss concepts with classmates</li>
                        <li>Circuit implementations and written work must be your own</li>
                        <li>Don't share .circ files with other students</li>
                        <li>Cite any external resources used</li>
                    </ul>
                </div>

                <h3>Learning Reflection</h3>
                <p>After completing this assignment, consider:</p>
                <ul>
                    <li>How does building physical circuits change your understanding of Boolean algebra?</li>
                    <li>What connections do you see between mathematical laws and practical circuit design?</li>
                    <li>How might the skills you've developed apply to computer architecture?</li>
                </ul>
            </div>
        </div>

    </div>

    <script>
        // --- SCRIPT WITH ACCORDION FIX ---
        const sectionsRead = new Set();
        const totalSections = document.querySelectorAll('.section').length;

        function toggleSection(header) {
            const section = header.parentElement;
            const content = section.querySelector('.section-content');
            const icon = header.querySelector('.collapse-icon');
            const isCollapsed = section.classList.contains('collapsed');

            if (isCollapsed) {
                // Expanding the section
                section.classList.remove('collapsed');
                header.setAttribute('aria-expanded', 'true');
                icon.classList.remove('collapsed');
                // Set max-height to the content's full scrollable height
                content.style.maxHeight = content.scrollHeight + 'px';
                content.style.opacity = '1';
            } else {
                // Collapsing the section
                section.classList.add('collapsed');
                header.setAttribute('aria-expanded', 'false');
                icon.classList.add('collapsed');
                // Collapse by setting max-height to 0
                content.style.maxHeight = '0';
                content.style.opacity = '0';
            }
        }

        function updateProgress() {
            const progress = (sectionsRead.size / totalSections) * 100;
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            progressFill.style.width = `${progress}%`;
            progressFill.parentElement.setAttribute('aria-valuenow', progress);
            progressText.textContent = `Progress: ${sectionsRead.size} of ${totalSections} sections read.`;
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.section').forEach((section, index) => {
                const header = section.querySelector('.section-header');
                const content = section.querySelector('.section-content');
                const icon = header.querySelector('.collapse-icon');
                
                if (index === 0) {
                    // First section is open by default
                    section.classList.remove('collapsed');
                    header.setAttribute('aria-expanded', 'true');
                    icon.classList.remove('collapsed');
                    // Set initial max-height
                    content.style.maxHeight = content.scrollHeight + 'px';
                } else {
                    // All other sections are collapsed by default
                    section.classList.add('collapsed');
                    header.setAttribute('aria-expanded', 'false');
                    icon.classList.add('collapsed');
                    content.style.maxHeight = '0';
                    content.style.opacity = '0';
                }
            });
            
            announcePageLoad();
        });

        // This ensures the accordion height is recalculated if the window is resized
        window.addEventListener('resize', () => {
            document.querySelectorAll('.section:not(.collapsed)').forEach(section => {
                const content = section.querySelector('.section-content');
                content.style.maxHeight = content.scrollHeight + 'px';
            });
        });

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && entry.target.id) {
                    sectionsRead.add(entry.target.id);
                    updateProgress();
                }
            });
        }, { threshold: 0.5 });

        document.querySelectorAll('.section').forEach(section => {
            observer.observe(section);
        });
        
        function changeFontSize(direction) {
            const currentSize = parseFloat(window.getComputedStyle(document.body).fontSize);
            document.body.style.fontSize = (direction === 'increase' ? currentSize + 1 : currentSize - 1) + 'px';
        }

        function toggleHighContrast() { document.body.classList.toggle('high-contrast'); }
        function pauseAnimations() { document.body.classList.toggle('reduced-motion'); }
        
        function announcePageLoad() {
            const announcement = document.createElement('div');
            announcement.setAttribute('aria-live', 'polite');
            announcement.className = 'sr-only';
            announcement.textContent = 'Assignment page loaded.';
            document.body.appendChild(announcement);
            setTimeout(() => { document.body.removeChild(announcement); }, 2000);
        }
    </script>
    
    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        let player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            setupTranscript();
        }

        const transcriptContainer = document.getElementById('transcript-container');
        const transcriptSpans = transcriptContainer ? transcriptContainer.querySelectorAll('span') : [];
        let timeupdater = null;

        function onPlayerStateChange(event) {
            if (event.data == YT.PlayerState.PLAYING) {
                timeupdater = setInterval(updateActiveTranscript, 250);
            } else if (event.data == YT.PlayerState.PAUSED || event.data == YT.PlayerState.ENDED) {
                clearInterval(timeupdater);
            }
        }

        function setupTranscript() {
            if (!transcriptSpans) return;
            transcriptSpans.forEach(span => {
                const startTime = parseFloat(span.getAttribute('data-start'));
                span.addEventListener('click', () => { seekToTime(startTime); });
                span.addEventListener('keydown', (event) => {
                    if (event.key === 'Enter' || event.key === ' ') {
                        event.preventDefault();
                        seekToTime(startTime);
                    }
                });
            });
        }

        function seekToTime(time) {
            if (player && typeof player.seekTo === 'function') {
                player.seekTo(time, true);
                player.playVideo();
            }
        }

        let activeSpan = null;
        function updateActiveTranscript() {
            if (!player || typeof player.getCurrentTime !== 'function' || !transcriptSpans.length) return;
            const currentTime = player.getCurrentTime();
            let newActiveSpan = null;
            for (const span of transcriptSpans) {
                const start = parseFloat(span.dataset.start);
                const end = parseFloat(span.dataset.end);
                if (currentTime >= start && currentTime < end) {
                    newActiveSpan = span;
                    break;
                }
            }
            if (newActiveSpan !== activeSpan) {
                if (activeSpan) { activeSpan.classList.remove('active-transcript'); }
                if (newActiveSpan) {
                    newActiveSpan.classList.add('active-transcript');
                    newActiveSpan.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
                activeSpan = newActiveSpan;
            }
        }
    </script>
</body>
</html>
