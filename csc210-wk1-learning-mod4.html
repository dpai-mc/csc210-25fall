<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSC210 Module 4: Putting It Together</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8fafc;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            text-align: center;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .module-subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        .module-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
        }

        .info-item {
            text-align: center;
        }

        .info-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 0.3rem;
        }

        .info-value {
            font-size: 1.1rem;
            font-weight: bold;
        }

        /* Progress Bar */
        .progress-container {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .progress-title {
            font-weight: bold;
            color: #7c3aed;
        }

        .progress-percentage {
            color: #6b7280;
            font-size: 0.9rem;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #7c3aed 0%, #a855f7 100%);
            border-radius: 4px;
            transition: width 0.5s ease;
            width: 0%;
        }

        /* Navigation */
        .navigation {
            background: white;
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        /* Content Sections */
        .content-section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: #7c3aed;
            font-size: 1.8rem;
            margin-bottom: 1rem;
            border-bottom: 3px solid #e5e7eb;
            padding-bottom: 0.5rem;
        }

        h3 {
            color: #374151;
            font-size: 1.4rem;
            margin: 1.5rem 0 1rem 0;
        }

        h4 {
            color: #4b5563;
            font-size: 1.2rem;
            margin: 1rem 0 0.5rem 0;
        }

        /* Interactive Elements */
        .interactive-panel {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border: 2px solid #e5e7eb;
        }

        .calculator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 1.5rem 0;
        }

        .calculator-section {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            border: 1px solid #e5e7eb;
        }

        .input-group {
            margin-bottom: 1rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #374151;
        }

        input, select, textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e5e7eb;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #7c3aed;
            box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
        }

        /* Results Display */
        .result-display {
            background: #f0fdf4;
            border: 2px solid #16a34a;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            font-family: monospace;
            font-size: 1.1rem;
        }

        .error-display {
            background: #fef2f2;
            border: 2px solid #dc2626;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            color: #dc2626;
        }

        /* Canvas Links Section */
        .canvas-links {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            border-left: 4px solid #3b82f6;
        }

        .canvas-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .canvas-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            border: 2px solid #e5e7eb;
            transition: all 0.3s ease;
        }

        .canvas-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            border-color: #3b82f6;
        }

        .canvas-card h4 {
            color: #1e40af;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .canvas-card a {
            color: #1e40af;
            text-decoration: none;
            font-weight: bold;
        }

        .canvas-card a:hover {
            text-decoration: underline;
        }

        /* Review Section */
        .review-section {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #0ea5e9;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .review-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #0369a1;
        }

        .review-badge {
            background: #0ea5e9;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .problem-list {
            list-style: none;
            padding: 0;
        }

        .problem-item {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 1px solid #e5e7eb;
            position: relative;
        }

        .problem-number {
            background: #0ea5e9;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            position: absolute;
            top: -10px;
            left: -10px;
            font-size: 0.9rem;
        }

        .practice-area {
            background: #f8fafc;
            border: 2px dashed #cbd5e1;
            border-radius: 6px;
            padding: 1rem;
            margin-top: 1rem;
            min-height: 60px;
            position: relative;
        }

        .practice-placeholder {
            color: #9ca3af;
            font-style: italic;
        }

        /* Buttons */
        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(124, 58, 237, 0.3);
        }

        .btn-secondary {
            background: #f3f4f6;
            color: #374151;
            border: 1px solid #d1d5db;
        }

        .btn-secondary:hover {
            background: #e5e7eb;
            border-color: #9ca3af;
        }

        .btn-success {
            background: linear-gradient(135deg, #16a34a 0%, #22c55e 100%);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);
            color: white;
        }

        .btn-info {
            background: linear-gradient(135deg, #0ea5e9 0%, #38bdf8 100%);
            color: white;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        /* Reflection Section */
        .reflection-section {
            background: linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            border-left: 4px solid #7c3aed;
        }

        .reflection-prompt {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            border: 1px solid #e5e7eb;
        }

        .reflection-input {
            margin-top: 1rem;
        }

        /* Real-world Applications */
        .application-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .application-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            border: 2px solid #e5e7eb;
            transition: all 0.3s ease;
        }

        .application-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            border-color: #7c3aed;
        }

        .application-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .application-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #7c3aed;
            margin-bottom: 0.5rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            h1 {
                font-size: 2rem;
            }

            .calculator-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .application-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .canvas-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .navigation {
                flex-direction: column;
                text-align: center;
            }

            .action-buttons {
                flex-direction: column;
            }

            .module-info {
                grid-template-columns: 1fr;
            }
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus styles */
        button:focus,
        input:focus,
        select:focus,
        textarea:focus,
        a:focus {
            outline: 3px solid #7c3aed;
            outline-offset: 2px;
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .btn {
                border: 2px solid currentColor;
            }
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Video Container Styles */
        .video-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            margin: 1rem 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            background: #000;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .video-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 1rem 0;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .video-info {
            font-size: 0.9rem;
            color: #6b7280;
            flex: 1;
            min-width: 200px;
        }

        .video-info a {
            color: #7c3aed;
            text-decoration: none;
            font-weight: 500;
        }

        .video-info a:hover {
            text-decoration: underline;
        }

        .video-accessibility {
            background: #f8fafc;
            border-radius: 6px;
            padding: 1rem;
            margin-top: 1rem;
            border-left: 4px solid #3b82f6;
        }

        .video-accessibility h5 {
            color: #1e40af;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .video-accessibility ul {
            margin: 0;
            padding-left: 1.5rem;
            font-size: 0.9rem;
            color: #4b5563;
        }

        .video-accessibility li {
            margin-bottom: 0.3rem;
        }

        /* Focus styles for video elements */
        .video-container:focus-within {
            outline: 3px solid #7c3aed;
            outline-offset: 2px;
        }

        /* Loading state for video */
        .video-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 200px;
            background: #f3f4f6;
            border-radius: 8px;
            color: #6b7280;
            font-style: italic;
        }

        /* Responsive video controls */
        @media (max-width: 768px) {
            .video-controls {
                flex-direction: column;
                align-items: stretch;
                text-align: center;
            }

            .video-info {
                order: 2;
                margin-top: 0.5rem;
            }

            .video-controls button {
                order: 1;
                width: 100%;
            }
        }

        /* High contrast mode for video elements */
        @media (prefers-contrast: high) {
            .video-container {
                border: 2px solid currentColor;
            }
            
            .video-accessibility {
                border: 2px solid currentColor;
            }
        }

        /* Reduced motion for video container */
        @media (prefers-reduced-motion: reduce) {
            .video-container {
                box-shadow: none;
                transition: none;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <h1>Module 4: Putting It Together</h1>
                <p class="module-subtitle">Synthesis, Application & Review</p>
                
                <div class="module-info">
                    <div class="info-item">
                        <div class="info-label">Duration</div>
                        <div class="info-value">1.5 hours</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Difficulty</div>
                        <div class="info-value">Review</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Assessment</div>
                        <div class="info-value">Canvas Quiz</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Prerequisites</div>
                        <div class="info-value">Modules 1-3</div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- Progress Tracking -->
        <div class="progress-container">
            <div class="progress-header">
                <span class="progress-title">Module 4 Progress (Session Only)</span>
                <span class="progress-percentage" id="progress-text">0% Complete</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <p style="font-size: 0.9rem; color: #6b7280; margin-top: 0.5rem;">
                ℹ️ Progress tracks during this session only. Complete the Canvas quiz for graded assessment.
            </p>
        </div>

        <!-- Navigation -->
        <nav class="navigation">
            <button class="btn btn-secondary" onclick="goBack()">← Back to Overview</button>
            <span>Module 4 of 4</span>
            <button class="btn btn-success" onclick="completeModule()" id="complete-btn" disabled>Complete Module 4</button>
        </nav>

        <!-- Canvas Links Section -->
        <section class="canvas-links">
            <h2 style="color: #1e40af; border-bottom: 3px solid #3b82f6;">📚 Canvas Assignments & Quiz</h2>
            <p>After reviewing the concepts in this module, complete these Canvas assignments:</p>
            
            <div class="canvas-grid">
                <div class="canvas-card">
                    <h4>📝 Week 1 Quiz</h4>
                    <p>Test your understanding of number systems, conversions, and two's complement arithmetic.</p>
                    <div class="action-buttons">
                        <a href="https://mendocino.instructure.com/courses/19705/quizzes/125348" 
                           class="btn btn-info" 
                           target="_blank" 
                           rel="noopener noreferrer"
                           aria-label="Open Week 1 Quiz in Canvas (opens in new tab)">
                            🎯 Take Quiz
                        </a>
                    </div>
                </div>

                <div class="canvas-card">
                    <h4>💭 Reflection Submission</h4>
                    <p>Submit your reflections on this week's learning and connections to broader CS concepts.</p>
                    <div class="action-buttons">
                        <a href="https://mendocino.instructure.com/courses/19705/assignments/441199?module_item_id=1146660" 
                           class="btn btn-info" 
                           target="_blank" 
                           rel="noopener noreferrer"
                           aria-label="Open Week 1 Reflection Assignment in Canvas (opens in new tab)">
                            📝 Submit Reflection
                        </a>
                    </div>
                </div>

                <div class="canvas-card">
                    <h4>🤝 Participation</h4>
                    <p>Engage with discussion forums and participate in week 1 learning activities.</p>
                    <div class="action-buttons">
                        <a href="https://mendocino.instructure.com/courses/19705/assignments/441204" 
                           class="btn btn-info" 
                           target="_blank" 
                           rel="noopener noreferrer"
                           aria-label="Open Week 1 Participation Assignment in Canvas (opens in new tab)">
                            💬 View Participation
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Introduction Section -->
        <section class="content-section">
            <h2>🎯 Module Overview</h2>
            <p>Welcome to the final module of Week 1! You've learned about abstraction layers, mastered number system conversions, and understood two's complement representation. Now it's time to synthesize these concepts and see how they connect to real-world computing applications.</p>
            
            <h3>What You'll Accomplish</h3>
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li>Connect number systems to practical computing applications</li>
                <li>Review key concepts through practice problems</li>
                <li>Reflect on the connections between bits and programs</li>
                <li>Prepare for the Canvas quiz and Week 2 content</li>
            </ul>

            <div class="action-buttons">
                <button class="btn btn-primary" onclick="scrollToSection('synthesis')">
                    🚀 Start Synthesis Video
                </button>
                <button class="btn btn-secondary" onclick="scrollToSection('applications')">
                    🌐 Explore Applications
                </button>
            </div>
        </section>

        <!-- Synthesis Video Section -->
        <section class="content-section" id="synthesis">
            <h2>🎬 Synthesis: From Bits to Programs</h2>
            <div class="interactive-panel">
                <h3>Video: Connecting the Concepts (13:30 minutes)</h3>
                <p>This synthesis video ties together everything you've learned this week and shows how number representation enables computation.</p>
                
                <div class="video-container" style="position: relative; width: 100%; height: 0; padding-bottom: 56.25%; margin: 1rem 0; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);">
                    <iframe 
                        id="synthesis-video-frame"
                        src="https://www.youtube.com/embed/pYDKIK6zGdA?enablejsapi=1&cc_load_policy=1&iv_load_policy=3&modestbranding=1&rel=0"
                        title="CSC210 Week 1 Synthesis: From Bits to Programs"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen
                        loading="lazy"
                        aria-describedby="video-description">
                    </iframe>
                </div>
                
                <div id="video-description" class="sr-only">
                    A 13 minute and 30 second video that synthesizes the concepts learned in Week 1 of CSC210, connecting number systems to program execution and computation.
                </div>
                
                <div class="video-controls" style="display: flex; justify-content: space-between; align-items: center; margin: 1rem 0; flex-wrap: wrap; gap: 1rem;">
                    <div class="video-info" style="font-size: 0.9rem; color: #6b7280;">
                        Duration: 13:30 | Closed captions available | 
                        <a href="https://mendocino.instructure.com/courses/19705/files/2409323?wrap=1" 
                           target="_blank" 
                           rel="noopener noreferrer"
                           style="color: #7c3aed; text-decoration: none;"
                           aria-label="Open video transcript in Canvas (opens in new tab)">
                            📄 View Transcript
                        </a>
                    </div>
                    <button class="btn btn-primary" onclick="markVideoWatched('synthesis')" id="synthesis-video-btn" aria-describedby="video-watch-desc">
                        ▶️ Mark as Watched
                    </button>
                    <span id="video-watch-desc" class="sr-only">Click to mark the synthesis video as watched and unlock additional content</span>
                </div>

                <div id="synthesis-notes" style="display: none;">
                    <h4>Key Takeaways</h4>
                    <ul style="margin: 1rem 0; padding-left: 2rem;">
                        <li>Binary representation is the foundation for all digital computation</li>
                        <li>Number systems enable computers to store and manipulate any type of data</li>
                        <li>Abstraction layers hide complexity while maintaining precision</li>
                        <li>Two's complement enables efficient arithmetic in hardware</li>
                        <li>Next week: How logic gates use these binary values to make decisions</li>
                    </ul>
                    
                    <div class="video-accessibility" style="background: #f8fafc; border-radius: 6px; padding: 1rem; margin-top: 1rem; border-left: 4px solid #3b82f6;">
                        <h5 style="color: #1e40af; margin-bottom: 0.5rem;">Accessibility Features</h5>
                        <ul style="margin: 0; padding-left: 1.5rem; font-size: 0.9rem;">
                            <li>Closed captions are enabled by default</li>
                            <li>Playback speed can be adjusted in YouTube player settings</li>
                            <li>Transcript is available through the Canvas link above</li>
                            <li>Video content is described in the key takeaways section</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Real-World Applications -->
        <section class="content-section" id="applications">
            <h2>🌐 Real-World Applications</h2>
            <p>Let's explore how the number systems you've learned are used in everyday computing scenarios.</p>

            <div class="application-grid">
                <div class="application-card">
                    <div class="application-icon">🎨</div>
                    <div class="application-title">RGB Color Representation</div>
                    <p>Colors on your screen are represented using three 8-bit values (0-255) for Red, Green, and Blue components.</p>
                    
                    <div class="interactive-panel" style="margin-top: 1rem;">
                        <h4>Color Converter</h4>
                        <div class="input-group">
                            <label for="rgb-red">Red (0-255):</label>
                            <input type="number" id="rgb-red" min="0" max="255" value="128" onchange="updateColor()" aria-describedby="rgb-red-desc">
                            <span id="rgb-red-desc" class="sr-only">Enter a red value between 0 and 255</span>
                        </div>
                        <div class="input-group">
                            <label for="rgb-green">Green (0-255):</label>
                            <input type="number" id="rgb-green" min="0" max="255" value="64" onchange="updateColor()" aria-describedby="rgb-green-desc">
                            <span id="rgb-green-desc" class="sr-only">Enter a green value between 0 and 255</span>
                        </div>
                        <div class="input-group">
                            <label for="rgb-blue">Blue (0-255):</label>
                            <input type="number" id="rgb-blue" min="0" max="255" value="192" onchange="updateColor()" aria-describedby="rgb-blue-desc">
                            <span id="rgb-blue-desc" class="sr-only">Enter a blue value between 0 and 255</span>
                        </div>
                        <div id="color-display" style="width: 100%; height: 60px; border-radius: 6px; margin-top: 1rem; border: 2px solid #e5e7eb;" aria-label="Color preview"></div>
                        <div id="color-values" style="margin-top: 1rem; font-family: monospace;" aria-live="polite"></div>
                    </div>
                </div>

                <div class="application-card">
                    <div class="application-icon">🌐</div>
                    <div class="application-title">IP Address Format</div>
                    <p>Internet Protocol addresses are four 8-bit numbers (0-255) that identify devices on networks.</p>
                    
                    <div class="interactive-panel" style="margin-top: 1rem;">
                        <h4>IP Address Converter</h4>
                        <div class="input-group">
                            <label for="ip-address">IP Address (e.g., 192.168.1.1):</label>
                            <input type="text" id="ip-address" value="192.168.1.1" onchange="convertIP()" aria-describedby="ip-desc">
                            <span id="ip-desc" class="sr-only">Enter an IP address in dotted decimal notation</span>
                        </div>
                        <div id="ip-result" class="result-display" style="display: none;" aria-live="polite"></div>
                    </div>
                </div>

                <div class="application-card">
                    <div class="application-icon">💾</div>
                    <div class="application-title">Memory Addresses</div>
                    <p>Computer memory locations are identified using hexadecimal addresses, making them easier to read than binary.</p>
                    
                    <div class="interactive-panel" style="margin-top: 1rem;">
                        <h4>Memory Address Calculator</h4>
                        <div class="input-group">
                            <label for="memory-hex">Hex Address (e.g., 0x1A2B):</label>
                            <input type="text" id="memory-hex" value="0x1A2B" onchange="convertMemory()" aria-describedby="memory-desc">
                            <span id="memory-desc" class="sr-only">Enter a hexadecimal memory address</span>
                        </div>
                        <div id="memory-result" class="result-display" style="display: none;" aria-live="polite"></div>
                    </div>
                </div>

                <div class="application-card">
                    <div class="application-icon">📊</div>
                    <div class="application-title">Binary File Sizes</div>
                    <p>File sizes and storage capacities use powers of 2, connecting directly to binary representation.</p>
                    
                    <div class="interactive-panel" style="margin-top: 1rem;">
                        <h4>Storage Calculator</h4>
                        <div class="input-group">
                            <label for="storage-bytes">Size in Bytes:</label>
                            <input type="number" id="storage-bytes" value="1048576" onchange="convertStorage()" aria-describedby="storage-desc">
                            <span id="storage-desc" class="sr-only">Enter a file size in bytes</span>
                        </div>
                        <div id="storage-result" class="result-display" style="display: none;" aria-live="polite"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Review Section (formerly Assignment) -->
        <section class="content-section" id="review">
            <h2>📝 Concept Review & Practice</h2>
            <p>Use these practice problems to review key concepts before taking the Canvas quiz. These are for practice only and not graded.</p>

            <!-- Part A: Basic Conversions -->
            <div class="review-section">
                <div class="review-header">
                    <div class="review-title">Part A: Number Conversions</div>
                    <div class="review-badge">Practice Problems</div>
                </div>
                <p>Convert between decimal, binary, and hexadecimal representations.</p>

                <ol class="problem-list">
                    <li class="problem-item">
                        <div class="problem-number">1</div>
                        <p><strong>Convert decimal 156 to binary and hexadecimal.</strong></p>
                        <div class="practice-area" contenteditable="true" data-problem="2a" aria-label="Practice area for problem 2">
                            <span class="practice-placeholder">Work through this problem here...</span>
                        </div>
                    </li>

                    <li class="problem-item">
                        <div class="problem-number">3</div>
                        <p><strong>Convert hexadecimal 0x3F to decimal and binary.</strong></p>
                        <div class="practice-area" contenteditable="true" data-problem="3a" aria-label="Practice area for problem 3">
                            <span class="practice-placeholder">Work through this problem here...</span>
                        </div>
                    </li>

                    <li class="problem-item">
                        <div class="problem-number">4</div>
                        <p><strong>What is the largest 8-bit unsigned binary number in decimal and hex?</strong></p>
                        <div class="practice-area" contenteditable="true" data-problem="4a" aria-label="Practice area for problem 4">
                            <span class="practice-placeholder">Work through this problem here...</span>
                        </div>
                    </li>

                    <li class="problem-item">
                        <div class="problem-number">5</div>
                        <p><strong>Convert decimal 240 to binary and verify using hexadecimal.</strong></p>
                        <div class="practice-area" contenteditable="true" data-problem="5a" aria-label="Practice area for problem 5">
                            <span class="practice-placeholder">Work through this problem here...</span>
                        </div>
                    </li>
                </ol>
            </div>

            <!-- Part B: Two's Complement -->
            <div class="review-section">
                <div class="review-header">
                    <div class="review-title">Part B: Two's Complement</div>
                    <div class="review-badge">Practice Problems</div>
                </div>
                <p>Work with signed binary numbers using two's complement notation.</p>

                <ol class="problem-list" start="6">
                    <li class="problem-item">
                        <div class="problem-number">6</div>
                        <p><strong>Convert decimal -42 to 8-bit two's complement binary.</strong></p>
                        <div class="practice-area" contenteditable="true" data-problem="6b" aria-label="Practice area for problem 6">
                            <span class="practice-placeholder">Work through this problem here...</span>
                        </div>
                    </li>

                    <li class="problem-item">
                        <div class="problem-number">7</div>
                        <p><strong>What decimal value does the 8-bit binary 10110100 represent in two's complement?</strong></p>
                        <div class="practice-area" contenteditable="true" data-problem="7b" aria-label="Practice area for problem 7">
                            <span class="practice-placeholder">Work through this problem here...</span>
                        </div>
                    </li>

                    <li class="problem-item">
                        <div class="problem-number">8</div>
                        <p><strong>What is the range of values that can be represented in 8-bit two's complement?</strong></p>
                        <div class="practice-area" contenteditable="true" data-problem="8b" aria-label="Practice area for problem 8">
                            <span class="practice-placeholder">Work through this problem here...</span>
                        </div>
                    </li>

                    <li class="problem-item">
                        <div class="problem-number">9</div>
                        <p><strong>Perform binary addition: 01011010 + 11100110 (interpret as 8-bit two's complement).</strong></p>
                        <div class="practice-area" contenteditable="true" data-problem="9b" aria-label="Practice area for problem 9">
                            <span class="practice-placeholder">Work through this problem here...</span>
                        </div>
                    </li>
                </ol>
            </div>

            <!-- Part C: Binary Arithmetic -->
            <div class="review-section">
                <div class="review-header">
                    <div class="review-title">Part C: Binary Arithmetic</div>
                    <div class="review-badge">Practice Problems</div>
                </div>
                <p>Perform arithmetic operations in binary and identify overflow conditions.</p>

                <ol class="problem-list" start="10">
                    <li class="problem-item">
                        <div class="problem-number">10</div>
                        <p><strong>Add 01110011 + 00101101 (show work and identify any overflow).</strong></p>
                        <div class="practice-area" contenteditable="true" data-problem="10c" aria-label="Practice area for problem 10">
                            <span class="practice-placeholder">Work through this problem here...</span>
                        </div>
                    </li>

                    <li class="problem-item">
                        <div class="problem-number">11</div>
                        <p><strong>Subtract 00110110 - 01010010 using two's complement addition.</strong></p>
                        <div class="practice-area" contenteditable="true" data-problem="11c" aria-label="Practice area for problem 11">
                            <span class="practice-placeholder">Work through this problem here...</span>
                        </div>
                    </li>

                    <li class="problem-item">
                        <div class="problem-number">12</div>
                        <p><strong>Multiply 1011 × 0110 using binary multiplication.</strong></p>
                        <div class="practice-area" contenteditable="true" data-problem="12c" aria-label="Practice area for problem 12">
                            <span class="practice-placeholder">Work through this problem here...</span>
                        </div>
                    </li>
                </ol>
            </div>

            <!-- Part D: Real-World Applications -->
            <div class="review-section">
                <div class="review-header">
                    <div class="review-title">Part D: Real-World Applications</div>
                    <div class="review-badge">Practice Problems</div>
                </div>
                <p>Apply number system knowledge to practical computing scenarios.</p>

                <ol class="problem-list" start="13">
                    <li class="problem-item">
                        <div class="problem-number">13</div>
                        <p><strong>An RGB color has values Red=204, Green=51, Blue=153. Express this color as a 6-digit hexadecimal value (format: #RRGGBB).</strong></p>
                        <div class="practice-area" contenteditable="true" data-problem="13d" aria-label="Practice area for problem 13">
                            <span class="practice-placeholder">Work through this problem here...</span>
                        </div>
                    </li>

                    <li class="problem-item">
                        <div class="problem-number">14</div>
                        <p><strong>The IP address 192.168.1.100 can be represented as a 32-bit binary number. Show the binary representation for each octet.</strong></p>
                        <div class="practice-area" contenteditable="true" data-problem="14d" aria-label="Practice area for problem 14">
                            <span class="practice-placeholder">Work through this problem here...</span>
                        </div>
                    </li>

                    <li class="problem-item">
                        <div class="problem-number">15</div>
                        <p><strong>A computer has 16 GB of RAM. Express this capacity in bytes using both decimal and binary (powers of 2).</strong></p>
                        <div class="practice-area" contenteditable="true" data-problem="15d" aria-label="Practice area for problem 15">
                            <span class="practice-placeholder">Work through this problem here...</span>
                        </div>
                    </li>
                </ol>
            </div>

            <div class="action-buttons">
                <button class="btn btn-info" onclick="clearAllPractice()">
                    🗑️ Clear Practice Work
                </button>
                <button class="btn btn-secondary" onclick="showHints()">
                    💡 Show Hints
                </button>
                <a href="https://mendocino.instructure.com/courses/19705/quizzes/125348" 
                   class="btn btn-success" 
                   target="_blank" 
                   rel="noopener noreferrer"
                   aria-label="Open Week 1 Quiz in Canvas (opens in new tab)">
                    🎯 Take Canvas Quiz
                </a>
            </div>
        </section>

        <!-- Reflection Section -->
        <section class="content-section">
            <h2>🤔 Reflection & Synthesis</h2>
            <div class="reflection-section">
                <h3>Connect the Concepts</h3>
                <p>Complete these reflection prompts to demonstrate your understanding of how this week's concepts connect to broader computer science principles. You can export these to submit in Canvas.</p>

                <div class="reflection-prompt">
                    <h4>Reflection 1: Abstraction in Computing</h4>
                    <p>How do the number systems you've learned this week relate to the concept of abstraction layers in computer systems? Give specific examples.</p>
                    <div class="reflection-input">
                        <textarea id="reflection1" rows="4" placeholder="Type your reflection here..." onchange="saveReflection(1)" aria-describedby="reflection1-desc"></textarea>
                        <span id="reflection1-desc" class="sr-only">Reflection on abstraction in computing</span>
                    </div>
                </div>

                <div class="reflection-prompt">
                    <h4>Reflection 2: Why Two's Complement?</h4>
                    <p>Explain why computers use two's complement representation for negative numbers instead of simpler methods like sign-magnitude. What advantages does this provide?</p>
                    <div class="reflection-input">
                        <textarea id="reflection2" rows="4" placeholder="Type your reflection here..." onchange="saveReflection(2)" aria-describedby="reflection2-desc"></textarea>
                        <span id="reflection2-desc" class="sr-only">Reflection on two's complement advantages</span>
                    </div>
                </div>

                <div class="reflection-prompt">
                    <h4>Reflection 3: Real-World Impact</h4>
                    <p>Choose one real-world application from this module (RGB colors, IP addresses, memory addresses, or file sizes) and explain how understanding binary/hex representation helps in that domain.</p>
                    <div class="reflection-input">
                        <textarea id="reflection3" rows="4" placeholder="Type your reflection here..." onchange="saveReflection(3)" aria-describedby="reflection3-desc"></textarea>
                        <span id="reflection3-desc" class="sr-only">Reflection on real-world applications</span>
                    </div>
                </div>

                <div class="reflection-prompt">
                    <h4>Reflection 4: Looking Ahead</h4>
                    <p>How do you think the number systems we've studied this week will connect to logic gates and digital circuits (Week 2 topic)? What role might binary play in decision-making circuits?</p>
                    <div class="reflection-input">
                        <textarea id="reflection4" rows="4" placeholder="Type your reflection here..." onchange="saveReflection(4)" aria-describedby="reflection4-desc"></textarea>
                        <span id="reflection4-desc" class="sr-only">Reflection on connections to future topics</span>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="exportReflections()">
                        📄 Export Reflections for Canvas
                    </button>
                    <a href="https://mendocino.instructure.com/courses/19705/assignments/441199?module_item_id=1146660" 
                       class="btn btn-success" 
                       target="_blank" 
                       rel="noopener noreferrer"
                       aria-label="Open Week 1 Reflection Assignment in Canvas (opens in new tab)">
                        📝 Submit in Canvas
                    </a>
                </div>
            </div>
        </section>

        <!-- Looking Ahead -->
        <section class="content-section">
            <h2>🔮 Looking Ahead: Week 2 Preview</h2>
            <div class="interactive-panel">
                <h3>From Numbers to Logic</h3>
                <p>Next week, you'll discover how computers use the binary numbers you've mastered to make decisions through logic gates. Here's a preview of what's coming:</p>
                
                <div class="application-grid">
                    <div class="application-card">
                        <div class="application-icon">⚡</div>
                        <div class="application-title">Logic Gates</div>
                        <p>AND, OR, NOT gates that process binary inputs to produce binary outputs</p>
                    </div>
                    
                    <div class="application-card">
                        <div class="application-icon">🔗</div>
                        <div class="application-title">Boolean Algebra</div>
                        <p>Mathematical framework for designing and analyzing digital circuits</p>
                    </div>
                    
                    <div class="application-card">
                        <div class="application-icon">🏗️</div>
                        <div class="application-title">Building Blocks</div>
                        <p>How simple gates combine to create complex computational structures</p>
                    </div>
                    
                    <div class="application-card">
                        <div class="application-icon">🎯</div>
                        <div class="application-title">Truth Tables</div>
                        <p>Systematic way to describe how logic circuits behave with different inputs</p>
                    </div>
                </div>

                <h3>Connection to This Week</h3>
                <p>The binary numbers you've learned are the inputs and outputs of logic gates. Two's complement arithmetic happens inside circuits built from these gates. Every conversion you practiced this week represents data flowing through logical operations in a real computer!</p>
            </div>
        </section>

        <!-- Course Progress & Navigation -->
        <section class="content-section">
            <h2>🎉 Module 4 Complete!</h2>
            <p>Congratulations! You've completed the final module of Week 1. You now have a solid foundation in:</p>
            
            <ul style="margin: 1rem 0; padding-left: 2rem;">
                <li>✅ Computer architecture abstraction layers</li>
                <li>✅ Binary, decimal, and hexadecimal number systems</li>
                <li>✅ Two's complement signed number representation</li>
                <li>✅ Binary arithmetic and overflow detection</li>
                <li>✅ Real-world applications of number systems</li>
            </ul>

            <div class="interactive-panel">
                <h3>Next Steps</h3>
                <ol style="margin: 1rem 0; padding-left: 2rem;">
                    <li><strong>Take the Week 1 quiz:</strong> Complete the Canvas quiz to demonstrate your understanding</li>
                    <li><strong>Submit your reflections:</strong> Export and submit reflection responses via Canvas</li>
                    <li><strong>Complete participation:</strong> Engage with discussion forums as assigned</li>
                    <li><strong>Review concepts:</strong> Use practice tools as needed before the quiz</li>
                    <li><strong>Prepare for Week 2:</strong> Logic Gates and Boolean Algebra</li>
                </ol>
            </div>

            <div class="action-buttons">
                <button class="btn btn-secondary" onclick="returnToOverview()">
                    🏠 Return to Week 1 Overview
                </button>
                <button class="btn btn-info" onclick="goToWeek2()">
                    ➡️ Preview Week 2
                </button>
                <a href="https://mendocino.instructure.com/courses/19705/quizzes/125348" 
                   class="btn btn-success" 
                   target="_blank" 
                   rel="noopener noreferrer"
                   aria-label="Open Week 1 Quiz in Canvas (opens in new tab)">
                    🎯 Take Canvas Quiz
                </a>
            </div>
        </section>
    </main>

    <script>
        // Global state management
        let moduleProgress = {
            videoWatched: false,
            applicationsExplored: 0,
            reviewStarted: false,
            reflectionsCompleted: 0,
            moduleCompleted: false
        };

        let savedPractice = {};
        let savedReflections = {};

        // Initialize the module
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Initializing Module 4 (Session-only tracking)...');
            console.log('Initial moduleProgress:', moduleProgress);
            
            loadSavedData();
            console.log('After loading saved data:', moduleProgress);
            
            updateProgress();
            initializeInteractiveElements();
            
            // Handle return from other modules
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('from')) {
                console.log('Returned from:', urlParams.get('from'));
            }
            
            console.log('Module 4 initialized - session progress only');
        });

        // Progress tracking
        function updateProgress() {
            let completedTasks = 0;
            let totalTasks = 6; // video, 4 applications, review sections, reflections

            if (moduleProgress.videoWatched) completedTasks++;
            if (moduleProgress.applicationsExplored >= 1) completedTasks++;
            if (moduleProgress.applicationsExplored >= 2) completedTasks++;
            if (moduleProgress.applicationsExplored >= 3) completedTasks++;
            if (moduleProgress.applicationsExplored >= 4) completedTasks++;
            if (moduleProgress.reviewStarted) completedTasks++;
            if (moduleProgress.reflectionsCompleted >= 2) completedTasks++;

            const percentage = Math.round((completedTasks / totalTasks) * 100);
            
            // Make sure DOM elements exist before updating
            const progressFill = document.getElementById('progress-fill');
            const progressText = document.getElementById('progress-text');
            
            if (progressFill) {
                progressFill.style.width = `${percentage}%`;
            }
            
            if (progressText) {
                progressText.textContent = `${percentage}% Complete`;
            }

            // Enable completion button when sufficient progress
            const completeBtn = document.getElementById('complete-btn');
            if (completeBtn && percentage >= 70) {
                completeBtn.disabled = false;
                completeBtn.textContent = 'Complete Module 4';
            }

            saveProgress();
        }

        // Video tracking with YouTube API integration
        let youtubePlayer = null;
        let videoWatchTime = 0;
        let videoDuration = 810; // 13:30 in seconds
        let watchThreshold = 0.8; // 80% of video needs to be watched

        // Load YouTube API
        function loadYouTubeAPI() {
            if (window.YT && window.YT.Player) {
                initializeYouTubePlayer();
                return;
            }
            
            const tag = document.createElement('script');
            tag.src = 'https://www.youtube.com/iframe_api';
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
            
            window.onYouTubeIframeAPIReady = initializeYouTubePlayer;
        }

        function initializeYouTubePlayer() {
            try {
                youtubePlayer = new YT.Player('synthesis-video-frame', {
                    events: {
                        'onReady': onPlayerReady,
                        'onStateChange': onPlayerStateChange
                    }
                });
            } catch (error) {
                console.warn('YouTube API not available, using fallback video tracking');
            }
        }

        function onPlayerReady(event) {
            // Player is ready, we can now track video interactions
            console.log('YouTube player ready');
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                startVideoTracking();
            } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
                stopVideoTracking();
            }
            
            if (event.data === YT.PlayerState.ENDED) {
                markVideoWatched('synthesis');
            }
        }

        let videoTrackingInterval = null;

        function startVideoTracking() {
            if (videoTrackingInterval) return;
            
            videoTrackingInterval = setInterval(() => {
                if (youtubePlayer && youtubePlayer.getCurrentTime) {
                    const currentTime = youtubePlayer.getCurrentTime();
                    videoWatchTime = Math.max(videoWatchTime, currentTime);
                    
                    // Auto-mark as watched if threshold is reached
                    if (videoWatchTime >= videoDuration * watchThreshold && !moduleProgress.videoWatched) {
                        markVideoWatched('synthesis');
                    }
                }
            }, 1000);
        }

        function stopVideoTracking() {
            if (videoTrackingInterval) {
                clearInterval(videoTrackingInterval);
                videoTrackingInterval = null;
            }
        }

        function markVideoWatched(videoId) {
            if (moduleProgress.videoWatched) return;
            
            moduleProgress.videoWatched = true;
            document.getElementById('synthesis-notes').style.display = 'block';
            
            const button = document.getElementById('synthesis-video-btn');
            button.textContent = '✅ Video Watched';
            button.classList.remove('btn-primary');
            button.classList.add('btn-success');
            button.disabled = true;
            button.setAttribute('aria-pressed', 'true');
            
            // Announce to screen readers
            const announcement = document.createElement('div');
            announcement.setAttribute('aria-live', 'polite');
            announcement.className = 'sr-only';
            announcement.textContent = 'Synthesis video marked as watched. Additional content is now available.';
            document.body.appendChild(announcement);
            
            setTimeout(() => {
                document.body.removeChild(announcement);
            }, 2000);
            
            updateProgress();
        }

        // Enhanced error handling and fallback for video
        function handleVideoError() {
            const videoContainer = document.querySelector('.video-container');
            if (videoContainer) {
                videoContainer.innerHTML = `
                    <div class="video-loading" role="alert">
                        <div style="text-align: center;">
                            <p style="margin-bottom: 1rem;">Unable to load embedded video player.</p>
                            <a href="https://youtu.be/pYDKIK6zGdA" 
                               class="btn btn-primary" 
                               target="_blank" 
                               rel="noopener noreferrer"
                               aria-label="Open synthesis video on YouTube (opens in new tab)">
                                ▶️ Watch on YouTube
                            </a>
                        </div>
                    </div>
                `;
            }
        }

        // Fallback video tracking for manual button click
        function manualVideoTracking() {
            if (!youtubePlayer) {
                // If YouTube API isn't available, use manual tracking
                const button = document.getElementById('synthesis-video-btn');
                button.addEventListener('click', function() {
                    if (!moduleProgress.videoWatched) {
                        const confirmWatch = confirm('Mark this video as watched? This will unlock additional content.');
                        if (confirmWatch) {
                            markVideoWatched('synthesis');
                        }
                    }
                });
            }
        }

        // Initialize video with error handling
        function initializeVideo() {
            try {
                loadYouTubeAPI();
                manualVideoTracking();
                
                // Set up a timeout to show fallback if API doesn't load
                setTimeout(() => {
                    if (!window.YT || !window.YT.Player) {
                        console.warn('YouTube API failed to load, showing fallback');
                        handleVideoError();
                    }
                }, 10000); // 10 second timeout
                
            } catch (error) {
                console.error('Error initializing video:', error);
                handleVideoError();
            }
        }

        // Update the DOMContentLoaded event listener
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Initializing Module 4 (Session-only tracking)...');
            console.log('Initial moduleProgress:', moduleProgress);
            
            loadSavedData();
            console.log('After loading saved data:', moduleProgress);
            
            updateProgress();
            initializeInteractiveElements();
            initializeVideo();
            
            // Handle return from other modules
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('from')) {
                console.log('Returned from:', urlParams.get('from'));
            }
            
            console.log('Module 4 initialized - session progress only');
        });

        // Clean up video tracking when leaving page
        window.addEventListener('beforeunload', function() {
            stopVideoTracking();
            saveProgress();
        });

        // Interactive application functions
        function updateColor() {
            const red = parseInt(document.getElementById('rgb-red').value) || 0;
            const green = parseInt(document.getElementById('rgb-green').value) || 0;
            const blue = parseInt(document.getElementById('rgb-blue').value) || 0;

            // Update color display
            const colorDisplay = document.getElementById('color-display');
            colorDisplay.style.backgroundColor = `rgb(${red}, ${green}, ${blue})`;

            // Show conversions
            const hexRed = red.toString(16).padStart(2, '0').toUpperCase();
            const hexGreen = green.toString(16).padStart(2, '0').toUpperCase();
            const hexBlue = blue.toString(16).padStart(2, '0').toUpperCase();
            
            const binRed = red.toString(2).padStart(8, '0');
            const binGreen = green.toString(2).padStart(8, '0');
            const binBlue = blue.toString(2).padStart(8, '0');

            document.getElementById('color-values').innerHTML = `
                <strong>Hex:</strong> #${hexRed}${hexGreen}${hexBlue}<br>
                <strong>Binary:</strong> ${binRed} ${binGreen} ${binBlue}<br>
                <strong>Decimal:</strong> ${red}, ${green}, ${blue}
            `;

            moduleProgress.applicationsExplored = Math.max(moduleProgress.applicationsExplored, 1);
            updateProgress();
        }

        function convertIP() {
            const ipInput = document.getElementById('ip-address').value;
            const ipPattern = /^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/;
            const match = ipInput.match(ipPattern);
            
            const resultDiv = document.getElementById('ip-result');
            
            if (match) {
                const octets = match.slice(1).map(Number);
                const valid = octets.every(octet => octet >= 0 && octet <= 255);
                
                if (valid) {
                    const binary = octets.map(octet => octet.toString(2).padStart(8, '0')).join('.');
                    const hex = octets.map(octet => '0x' + octet.toString(16).toUpperCase().padStart(2, '0')).join(' ');
                    
                    resultDiv.innerHTML = `
                        <strong>Decimal:</strong> ${ipInput}<br>
                        <strong>Binary:</strong> ${binary}<br>
                        <strong>Hexadecimal:</strong> ${hex}
                    `;
                    resultDiv.style.display = 'block';
                    resultDiv.className = 'result-display';
                } else {
                    resultDiv.innerHTML = 'Invalid IP address: Each octet must be 0-255';
                    resultDiv.style.display = 'block';
                    resultDiv.className = 'error-display';
                }
            } else {
                resultDiv.innerHTML = 'Invalid format: Use xxx.xxx.xxx.xxx';
                resultDiv.style.display = 'block';
                resultDiv.className = 'error-display';
            }

            moduleProgress.applicationsExplored = Math.max(moduleProgress.applicationsExplored, 2);
            updateProgress();
        }

        function convertMemory() {
            const hexInput = document.getElementById('memory-hex').value.trim();
            const resultDiv = document.getElementById('memory-result');
            
            try {
                // Remove 0x prefix if present
                const cleanHex = hexInput.replace(/^0x/i, '');
                
                // Validate hex
                if (!/^[0-9A-Fa-f]+$/.test(cleanHex)) {
                    throw new Error('Invalid hexadecimal format');
                }
                
                const decimal = parseInt(cleanHex, 16);
                const binary = decimal.toString(2);
                const paddedBinary = binary.padStart(Math.ceil(binary.length / 4) * 4, '0');
                
                resultDiv.innerHTML = `
                    <strong>Hexadecimal:</strong> 0x${cleanHex.toUpperCase()}<br>
                    <strong>Decimal:</strong> ${decimal}<br>
                    <strong>Binary:</strong> ${paddedBinary}<br>
                    <strong>Address Range:</strong> Byte ${decimal}
                `;
                resultDiv.style.display = 'block';
                resultDiv.className = 'result-display';
            } catch (error) {
                resultDiv.innerHTML = 'Invalid hexadecimal address format';
                resultDiv.style.display = 'block';
                resultDiv.className = 'error-display';
            }

            moduleProgress.applicationsExplored = Math.max(moduleProgress.applicationsExplored, 3);
            updateProgress();
        }

        function convertStorage() {
            const bytes = parseInt(document.getElementById('storage-bytes').value) || 0;
            const resultDiv = document.getElementById('storage-result');
            
            const kb = bytes / 1024;
            const mb = bytes / (1024 * 1024);
            const gb = bytes / (1024 * 1024 * 1024);
            
            const kbBinary = bytes / 1000;
            const mbBinary = bytes / (1000 * 1000);
            const gbBinary = bytes / (1000 * 1000 * 1000);
            
            resultDiv.innerHTML = `
                <strong>Binary (Powers of 2):</strong><br>
                ${kb.toFixed(2)} KiB (1024 bytes)<br>
                ${mb.toFixed(2)} MiB (1024² bytes)<br>
                ${gb.toFixed(6)} GiB (1024³ bytes)<br><br>
                <strong>Decimal (Powers of 10):</strong><br>
                ${kbBinary.toFixed(2)} KB (1000 bytes)<br>
                ${mbBinary.toFixed(2)} MB (1000² bytes)<br>
                ${gbBinary.toFixed(6)} GB (1000³ bytes)
            `;
            resultDiv.style.display = 'block';
            resultDiv.className = 'result-display';

            moduleProgress.applicationsExplored = Math.max(moduleProgress.applicationsExplored, 4);
            updateProgress();
        }

        // Practice area management
        function initializeInteractiveElements() {
            // Initialize practice areas
            document.querySelectorAll('.practice-area').forEach(area => {
                area.addEventListener('focus', function() {
                    if (this.textContent.trim() === 'Work through this problem here...') {
                        this.textContent = '';
                        this.style.color = '#333';
                    }
                    moduleProgress.reviewStarted = true;
                    updateProgress();
                });

                area.addEventListener('blur', function() {
                    if (this.textContent.trim() === '') {
                        this.innerHTML = '<span class="practice-placeholder">Work through this problem here...</span>';
                    } else {
                        const problemId = this.getAttribute('data-problem');
                        savedPractice[problemId] = this.textContent.trim();
                        saveProgress();
                    }
                });

                area.addEventListener('input', function() {
                    const problemId = this.getAttribute('data-problem');
                    savedPractice[problemId] = this.textContent.trim();
                    saveProgress();
                });
            });

            // Initialize color converter display
            updateColor();
        }

        // Reflection management
        function saveReflection(number) {
            const textarea = document.getElementById(`reflection${number}`);
            savedReflections[number] = textarea.value;
            
            // Count completed reflections
            moduleProgress.reflectionsCompleted = Object.keys(savedReflections).filter(
                key => savedReflections[key] && savedReflections[key].trim().length > 50
            ).length;
            
            updateProgress();
            saveProgress();
        }

        // Practice functions
        function clearAllPractice() {
            if (confirm('Are you sure you want to clear all practice work? This cannot be undone.')) {
                savedPractice = {};
                document.querySelectorAll('.practice-area').forEach(area => {
                    area.innerHTML = '<span class="practice-placeholder">Work through this problem here...</span>';
                });
                saveProgress();
            }
        }

        function showHints() {
            alert('Hints:\n\n1-5: Remember to use division by 2 for decimal to binary, and powers of 16 for hex conversions.\n\n6-9: For two\'s complement, flip bits and add 1 for negative numbers. Range for 8-bit is -128 to 127.\n\n10-12: Watch for carry bits and overflow when both operands have same sign but result has different sign.\n\n13-15: Use direct conversion - each RGB component is one byte (8 bits), IP octets are also bytes.');
        }

        // Export functions
        function exportReflections() {
            let exportText = "CSC210 Week 1 Module 4 - Reflection Responses\n";
            exportText += "=".repeat(50) + "\n\n";
            
            for (let i = 1; i <= 4; i++) {
                exportText += `REFLECTION ${i}:\n`;
                exportText += savedReflections[i] || '[Not completed]';
                exportText += "\n\n" + "-".repeat(40) + "\n\n";
            }
            
            const blob = new Blob([exportText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'CSC210_Week1_Reflections.txt';
            a.click();
            URL.revokeObjectURL(url);
            
            alert('Reflections exported! Submit this file via the Canvas reflection assignment.');
        }

        // Navigation functions
        function goBack() {
            const urlParams = new URLSearchParams(window.location.search);
            const returnUrl = urlParams.get('return');
            
            if (returnUrl) {
                window.location.href = decodeURIComponent(returnUrl);
            } else {
                // Default return to main platform
                window.location.href = 'csc210-wk1-learning-platform.html';
            }
        }

        function completeModule() {
            moduleProgress.moduleCompleted = true;
            saveProgress();
            
            alert('Module 4 session completed! Remember to take the Canvas quiz and submit your reflections.');
            
            document.getElementById('complete-btn').textContent = '✅ Session Complete';
            document.getElementById('complete-btn').classList.remove('btn-success');
            document.getElementById('complete-btn').classList.add('btn-secondary');
        }

        function returnToOverview() {
            goBack();
        }

        function goToWeek2() {
            alert('Week 2 content will be available soon! Check the course schedule for release dates.');
        }

        // Utility functions
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }

        // Data persistence (session-only for Canvas iframe integration)
        function saveProgress() {
            const progressData = {
                moduleProgress: moduleProgress,
                savedPractice: savedPractice,
                savedReflections: savedReflections,
                timestamp: new Date().toISOString(),
                sessionOnly: true
            };
            
            try {
                // Use sessionStorage only - no persistent data across sessions
                sessionStorage.setItem('csc210_module4_progress', JSON.stringify(progressData));
            } catch (error) {
                console.warn('Could not save session progress:', error);
            }
        }

        function loadSavedData() {
            try {
                const saved = sessionStorage.getItem('csc210_module4_progress');
                if (saved) {
                    const data = JSON.parse(saved);
                    moduleProgress = { ...moduleProgress, ...data.moduleProgress };
                    savedPractice = data.savedPractice || {};
                    savedReflections = data.savedReflections || {};
                    
                    // Restore practice areas
                    Object.keys(savedPractice).forEach(problemId => {
                        const area = document.querySelector(`[data-problem="${problemId}"]`);
                        if (area && savedPractice[problemId]) {
                            area.textContent = savedPractice[problemId];
                            area.style.color = '#333';
                        }
                    });
                    
                    // Restore reflections
                    Object.keys(savedReflections).forEach(number => {
                        const textarea = document.getElementById(`reflection${number}`);
                        if (textarea && savedReflections[number]) {
                            textarea.value = savedReflections[number];
                        }
                    });
                    
                    console.log('Session progress restored');
                }
            } catch (error) {
                console.warn('Could not load session progress:', error);
            }
        }

        // Save progress before leaving
        window.addEventListener('beforeunload', saveProgress);

        // Accessibility enhancements
        document.addEventListener('keydown', function(e) {
            // Add keyboard shortcuts
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case 's':
                        e.preventDefault();
                        saveProgress();
                        alert('Progress saved!');
                        break;
                    case 'e':
                        e.preventDefault();
                        exportReflections();
                        break;
                }
            }
            
            // Navigate with arrow keys when focused on navigation
            if (e.target.closest('.navigation')) {
                if (e.key === 'ArrowLeft') {
                    goBack();
                } else if (e.key === 'ArrowRight') {
                    const completeBtn = document.getElementById('complete-btn');
                    if (!completeBtn.disabled) {
                        completeModule();
                    }
                }
            }
        });

        // Announce progress updates to screen readers
        function announceProgress() {
            const progressText = document.getElementById('progress-text').textContent;
            const announcement = document.createElement('div');
            announcement.setAttribute('aria-live', 'polite');
            announcement.setAttribute('aria-atomic', 'true');
            announcement.className = 'sr-only';
            announcement.textContent = `Progress updated: ${progressText}`;
            document.body.appendChild(announcement);
            
            setTimeout(() => {
                document.body.removeChild(announcement);
            }, 1000);
        }

        // Enhanced updateProgress with accessibility
        const originalUpdateProgress = updateProgress;
        updateProgress = function() {
            const oldPercentage = document.getElementById('progress-text').textContent;
            originalUpdateProgress();
            const newPercentage = document.getElementById('progress-text').textContent;
            
            if (oldPercentage !== newPercentage) {
                announceProgress();
            }
        };

        // Handle reduced motion preferences
        function respectMotionPreferences() {
            const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            
            if (prefersReducedMotion) {
                // Disable smooth scrolling
                document.documentElement.style.scrollBehavior = 'auto';
                
                // Reduce transition durations
                const style = document.createElement('style');
                style.textContent = `
                    *, *::before, *::after {
                        animation-duration: 0.01ms !important;
                        animation-iteration-count: 1 !important;
                        transition-duration: 0.01ms !important;
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // Initialize accessibility features
        document.addEventListener('DOMContentLoaded', function() {
            respectMotionPreferences();
            
            // Add skip links
            const skipLink = document.createElement('a');
            skipLink.href = '#main-content';
            skipLink.textContent = 'Skip to main content';
            skipLink.className = 'sr-only';
            skipLink.style.position = 'absolute';
            skipLink.style.top = '-40px';
            skipLink.style.left = '6px';
            skipLink.style.zIndex = '1000';
            skipLink.style.padding = '8px';
            skipLink.style.backgroundColor = '#000';
            skipLink.style.color = '#fff';
            skipLink.style.textDecoration = 'none';
            
            skipLink.addEventListener('focus', function() {
                this.style.top = '6px';
            });
            
            skipLink.addEventListener('blur', function() {
                this.style.top = '-40px';
            });
            
            document.body.insertBefore(skipLink, document.body.firstChild);
            
            // Add main content landmark
            const main = document.querySelector('main');
            if (main) {
                main.id = 'main-content';
                main.setAttribute('role', 'main');
            }
        });

        // Enhanced error handling for interactive elements
        function handleApplicationError(elementId, errorMessage) {
            const element = document.getElementById(elementId);
            if (element) {
                element.innerHTML = `<div class="error-display" role="alert">${errorMessage}</div>`;
                element.style.display = 'block';
                
                // Announce error to screen readers
                const announcement = document.createElement('div');
                announcement.setAttribute('aria-live', 'assertive');
                announcement.className = 'sr-only';
                announcement.textContent = `Error: ${errorMessage}`;
                document.body.appendChild(announcement);
                
                setTimeout(() => {
                    document.body.removeChild(announcement);
                }, 3000);
            }
        }

        // Enhanced form validation
        function validateInput(input, min, max, name) {
            const value = parseInt(input.value);
            
            if (isNaN(value)) {
                input.setCustomValidity(`Please enter a valid number for ${name}`);
                input.setAttribute('aria-invalid', 'true');
                return false;
            }
            
            if (value < min || value > max) {
                input.setCustomValidity(`${name} must be between ${min} and ${max}`);
                input.setAttribute('aria-invalid', 'true');
                return false;
            }
            
            input.setCustomValidity('');
            input.setAttribute('aria-invalid', 'false');
            return true;
        }

        // Add input validation to color inputs
        document.addEventListener('DOMContentLoaded', function() {
            ['rgb-red', 'rgb-green', 'rgb-blue'].forEach(id => {
                const input = document.getElementById(id);
                if (input) {
                    input.addEventListener('input', function() {
                        validateInput(this, 0, 255, this.previousElementSibling.textContent.replace(':', ''));
                    });
                }
            });
        });

        // Improved color contrast checking
        function checkColorContrast(r, g, b) {
            // Calculate relative luminance
            const luminance = (0.299 * r + 0.587 * g + 0.114 * b) / 255;
            
            // Suggest text color based on background
            const textColor = luminance > 0.5 ? '#000000' : '#ffffff';
            
            return {
                luminance: luminance,
                suggestedTextColor: textColor,
                isLight: luminance > 0.5
            };
        }

        // Enhanced updateColor with accessibility feedback
        const originalUpdateColor = updateColor;
        updateColor = function() {
            const redInput = document.getElementById('rgb-red');
            const greenInput = document.getElementById('rgb-green');
            const blueInput = document.getElementById('rgb-blue');
            
            // Validate inputs
            const redValid = validateInput(redInput, 0, 255, 'Red');
            const greenValid = validateInput(greenInput, 0, 255, 'Green');
            const blueValid = validateInput(blueInput, 0, 255, 'Blue');
            
            if (!redValid || !greenValid || !blueValid) {
                return;
            }
            
            originalUpdateColor();
            
            // Add accessibility information
            const red = parseInt(redInput.value) || 0;
            const green = parseInt(greenInput.value) || 0;
            const blue = parseInt(blueInput.value) || 0;
            
            const contrastInfo = checkColorContrast(red, green, blue);
            const colorValues = document.getElementById('color-values');
            
            if (colorValues) {
                const existingContent = colorValues.innerHTML;
                colorValues.innerHTML = existingContent + `<br><strong>Accessibility:</strong> ${contrastInfo.isLight ? 'Light' : 'Dark'} background, use ${contrastInfo.suggestedTextColor} text`;
            }
        };

        // Add ARIA live regions for dynamic content
        document.addEventListener('DOMContentLoaded', function() {
            // Add live region for color updates
            const colorValues = document.getElementById('color-values');
            if (colorValues) {
                colorValues.setAttribute('aria-live', 'polite');
            }
            
            // Add live regions for all result displays
            ['ip-result', 'memory-result', 'storage-result'].forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.setAttribute('aria-live', 'polite');
                }
            });
        });

        // Enhanced keyboard navigation for interactive cards
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.application-card, .canvas-card');
            
            cards.forEach((card, index) => {
                card.setAttribute('tabindex', '0');
                card.setAttribute('role', 'button');
                
                card.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        // Focus on the first interactive element within the card
                        const firstInput = card.querySelector('input, button, a');
                        if (firstInput) {
                            firstInput.focus();
                        }
                    }
                    
                    // Arrow key navigation between cards
                    if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                        e.preventDefault();
                        const nextCard = cards[index + 1];
                        if (nextCard) {
                            nextCard.focus();
                        }
                    }
                    
                    if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                        e.preventDefault();
                        const prevCard = cards[index - 1];
                        if (prevCard) {
                            prevCard.focus();
                        }
                    }
                });
            });
        });

        // Add high contrast mode detection and styling
        function handleHighContrastMode() {
            if (window.matchMedia('(prefers-contrast: high)').matches) {
                document.body.classList.add('high-contrast');
                
                // Add additional high contrast styles
                const style = document.createElement('style');
                style.textContent = `
                    .high-contrast .btn {
                        border: 2px solid currentColor !important;
                    }
                    
                    .high-contrast .progress-fill {
                        background: currentColor !important;
                    }
                    
                    .high-contrast .application-card:hover,
                    .high-contrast .canvas-card:hover {
                        border-color: currentColor !important;
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // Initialize high contrast handling
        document.addEventListener('DOMContentLoaded', handleHighContrastMode);

        // Monitor for contrast preference changes
        if (window.matchMedia) {
            window.matchMedia('(prefers-contrast: high)').addEventListener('change', handleHighContrastMode);
            window.matchMedia('(prefers-reduced-motion: reduce)').addEventListener('change', respectMotionPreferences);
        }

    </script>
</body>
</html>="true" data-problem="1a" aria-label="Practice area for problem 1">
                            <span class="practice-placeholder">Work through this problem here...</span>
                        </div>
                    </li>

                    <li class="problem-item">
                        <div class="problem-number">2</div>
                        <p><strong>Convert binary 11010110 to decimal and hexadecimal.</strong></p>
                        <div class="practice-area" contenteditable
