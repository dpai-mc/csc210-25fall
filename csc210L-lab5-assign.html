<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graded Lab: MARS Execution Analysis</title>
    
    <!-- 1. CDN Links -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- 2. Meta Comments (Required) -->
    <!-- Chosen Palette: Scholarly Neutrals -->
    <!-- Application Structure Plan: Single-column lab assignment sheet. The structure introduces the objective, provides a MIPS code sample, and then asks observational questions that require the student to use the MARS simulator. Input fields are provided for answers. A "Save as PDF" function is included for submission. Max width is constrained to 800px. -->
    <!-- Visualization & Content Choices: The assignment uses a pre-formatted code block to present the MIPS program and standard HTML form inputs for student answers. The primary "interaction" is external to the web page, occurring within the MARS simulator, with this page serving as the worksheet to record findings. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    
    <!-- 3. Embedded CSS -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #383838;
        }
        main {
            max-width: 800px; /* Tailwind: max-w-3xl */
        }
        h1, h2, h3 {
            font-weight: 700;
        }
        code, .mono {
            font-family: 'Fira Code', monospace;
        }
        .worksheet-input {
            font-family: 'Fira Code', monospace;
            border: 1px solid #D1C7BF;
            background-color: #FFFFFF;
            padding: 0.5rem;
            border-radius: 0.375rem;
        }
        .worksheet-input:focus {
            outline: none;
            border-color: #4A90E2;
            box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.5);
        }
        textarea.worksheet-input {
            min-height: 60px;
        }
        .submit-btn {
            background-color: #4A90E2;
            color: white;
            transition: background-color 0.2s ease-in-out;
        }
        .submit-btn:hover {
            background-color: #357ABD;
        }
        .skip-link {
            position: absolute;
            top: -100px;
            left: 0;
            background: #EADDD7;
            color: #1a1a1a;
            padding: 0.5rem 1rem;
            z-index: 100;
            transition: top 0.3s ease-in-out;
            border-bottom-right-radius: 0.5rem;
        }
        .skip-link:focus {
            top: 0;
        }
        .code-block {
            background-color: #f4f4f4;
            border: 1px solid #ddd;
            padding: 1rem;
            border-radius: 0.5rem;
            white-space: pre-wrap;
        }

        @media print {
            body {
                background-color: #FFFFFF;
            }
            header, #submission, .skip-link, #rubric, #instructions {
                display: none;
            }
            main {
                max-width: 100%;
                padding: 0;
                border: none;
                box-shadow: none;
            }
            .worksheet-input {
                border: 1px solid #AAAAAA;
            }
            .bg-white {
                box-shadow: none;
                border: 1px solid #DDDDDD;
            }
            .code-block {
                background-color: #fafafa;
            }
        }
    </style>
</head>
<body class="antialiased">
    <a href="#main-content" class="skip-link font-semibold">Skip to main content</a>
    <main id="main-content" class="mx-auto p-4 md:p-8">
        <header class="mb-8 border-b pb-4 border-[#EADDD7]">
            <h1 class="text-3xl md:text-4xl">Graded Lab: MARS Execution Analysis</h1>
            <p class="text-lg text-gray-600 mt-2">CSC210L: Computer Organization & Architecture Lab</p>
        </header>

        <section id="student-info" class="mb-10 bg-white p-6 rounded-lg shadow-sm border border-gray-200">
             <h2 class="text-2xl mb-4">Student Information</h2>
             <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label for="student-name" class="block text-sm font-medium text-gray-700">Full Name</label>
                    <input type="text" id="student-name" class="worksheet-input w-full mt-1 text-left px-3">
                </div>
                <div>
                    <label for="submission-date" class="block text-sm font-medium text-gray-700">Date</label>
                    <input type="date" id="submission-date" class="worksheet-input w-full mt-1 text-left px-3">
                </div>
             </div>
        </section>

        <section id="instructions" class="mb-10">
            <h2 class="text-2xl mb-3">Lab Objective & Instructions</h2>
            <p class="text-base leading-relaxed text-gray-700 mb-4">
                The objective of this lab is to familiarize you with the MARS simulator and to observe the direct effect of MIPS instructions on the CPU's registers. You will enter a simple program, assemble it, and step through its execution to answer the questions below.
            </p>
            <ol class="list-decimal list-inside space-y-2 text-gray-700">
                <li>Launch the MARS simulator.</li>
                <li>Go to <strong>File > New</strong> to open a blank editor window.</li>
                <li>Carefully type the MIPS program from "Part 1" into the editor.</li>
                <li>Go to <strong>Run > Assemble</strong> (or press F3). This will open the "Execute" view.</li>
                <li>Use the <strong>Step forward one instruction</strong> button (F7) to execute the program line-by-line.</li>
                <li>Observe the "Registers" and "Text Segment" panels to answer the questions in "Part 2".</li>
                <li>Once complete, save this page as a PDF for submission.</li>
            </ol>
        </section>

        <section id="worksheet" class="mb-10">
            <h2 class="text-2xl mb-6">Lab Worksheet</h2>
            
            <!-- Part 1: MIPS Program -->
            <div id="part1" class="mb-10">
                <h3 class="text-xl font-semibold mb-4">Part 1: MIPS Program</h3>
                <p class="mb-4 text-gray-700">Enter the following program into the MARS editor exactly as shown.</p>
                <div class="code-block mono">
# A simple program to add two numbers
.data

.text
main:
    addi $t0, $zero, 25   # Load immediate value 25 into $t0
    addi $t1, $zero, 50   # Load immediate value 50 into $t1
    add  $s0, $t0, $t1    # $s0 = $t0 + $t1
    addi $t0, $t0, 10     # Add 10 to the value in $t0
                </div>
            </div>
            
            <!-- Part 2: Observation Questions -->
            <div id="part2">
                <h3 class="text-xl font-semibold mb-4">Part 2: Observation Questions</h3>
                <div class="space-y-6">
                    <!-- Question 1 -->
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                        <label for="q1" class="block font-medium text-gray-800">1. After assembling the program, what memory address does the <code>main:</code> label correspond to? (This is the address of the first instruction in the "Text Segment" window.)</label>
                        <input type="text" id="q1" placeholder="e.g., 0x00401234" class="worksheet-input w-full mt-2 text-left px-3">
                    </div>
                    <!-- Question 2 -->
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                        <label for="q2" class="block font-medium text-gray-800">2. Before executing the first instruction, what is the hexadecimal value of the Program Counter (pc)?</label>
                        <input type="text" id="q2" placeholder="e.g., 0x00401234" class="worksheet-input w-full mt-2 text-left px-3">
                    </div>
                    <!-- Question 3 -->
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 space-y-4">
                        <div>
                            <label for="q3" class="block font-medium text-gray-800">3. After executing the first instruction (<code>addi $t0, $zero, 25</code>), what is the decimal value in register <strong>$t0</strong>?</label>
                            <input type="text" id="q3" placeholder="Enter a number" class="worksheet-input w-full mt-2 text-left px-3">
                        </div>
                        <div>
                            <label for="q3_exp" class="block font-medium text-gray-800">In your own words, what did this command accomplish?</label>
                            <textarea id="q3_exp" class="worksheet-input w-full mt-2 text-left px-3" placeholder="Explain the operation..."></textarea>
                        </div>
                    </div>
                    <!-- Question 4 -->
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 space-y-4">
                        <div>
                            <label for="q4" class="block font-medium text-gray-800">4. After executing the second instruction (<code>addi $t1, $zero, 50</code>), what is the hexadecimal value in register <strong>$t1</strong>?</label>
                            <input type="text" id="q4" placeholder="e.g., 0x000000AA" class="worksheet-input w-full mt-2 text-left px-3">
                        </div>
                        <div>
                           <label for="q4_exp" class="block font-medium text-gray-800">In your own words, what did this command accomplish?</label>
                            <textarea id="q4_exp" class="worksheet-input w-full mt-2 text-left px-3" placeholder="Explain the operation..."></textarea>
                        </div>
                    </div>
                    <!-- Question 5 -->
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 space-y-4">
                        <div>
                            <label for="q5" class="block font-medium text-gray-800">5. After executing the third instruction (<code>add $s0, $t0, $t1</code>), what is the decimal value in register <strong>$s0</strong>?</label>
                            <input type="text" id="q5" placeholder="Enter a number" class="worksheet-input w-full mt-2 text-left px-3">
                        </div>
                        <div>
                           <label for="q5_exp" class="block font-medium text-gray-800">In your own words, what did this command accomplish?</label>
                            <textarea id="q5_exp" class="worksheet-input w-full mt-2 text-left px-3" placeholder="Explain the operation..."></textarea>
                        </div>
                    </div>
                    <!-- Question 6 -->
                     <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 space-y-4">
                        <div>
                            <label for="q6" class="block font-medium text-gray-800">6. After executing the final instruction (<code>addi $t0, $t0, 10</code>), what is the new decimal value in register <strong>$t0</strong>?</label>
                            <input type="text" id="q6" placeholder="Enter a number" class="worksheet-input w-full mt-2 text-left px-3">
                        </div>
                        <div>
                           <label for="q6_exp" class="block font-medium text-gray-800">In your own words, what did this command accomplish?</label>
                            <textarea id="q6_exp" class="worksheet-input w-full mt-2 text-left px-3" placeholder="Explain the operation..."></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="rubric" class="mb-10">
            <h2 class="text-2xl mb-4">Grading Rubric</h2>
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                <table class="w-full text-left">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="p-4 font-semibold">Criteria</th>
                            <th class="p-4 font-semibold text-right">Points</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                        <tr><td class="p-4 text-gray-700">Question 1: Correct memory address.</td><td class="p-4 text-right">9</td></tr>
                        <tr><td class="p-4 text-gray-700">Question 2: Correct initial PC value.</td><td class="p-4 text-right">9</td></tr>
                        <tr><td class="p-4 text-gray-700">Question 3: Correct value & clear explanation.</td><td class="p-4 text-right">18</td></tr>
                        <tr><td class="p-4 text-gray-700">Question 4: Correct value & clear explanation.</td><td class="p-4 text-right">18</td></tr>
                        <tr><td class="p-4 text-gray-700">Question 5: Correct value & clear explanation.</td><td class="p-4 text-right">18</td></tr>
                        <tr><td class="p-4 text-gray-700">Question 6: Correct value & clear explanation.</td><td class="p-4 text-right">18</td></tr>
                        <tr><td class="p-4 text-gray-700 font-semibold bg-gray-50">Student Information section is complete.</td><td class="p-4 text-right font-semibold bg-gray-50">10</td></tr>
                    </tbody>
                    <tfoot class="bg-gray-100">
                        <tr>
                            <td class="p-4 font-bold text-lg">Total</td>
                            <td class="p-4 text-right font-bold text-lg">100</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </section>

        <section id="submission">
            <h2 class="text-2xl mb-3">Submission</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200 text-center">
                 <p class="mb-4 text-gray-700">After filling out your name, date, and all answers, click here to save your work as a PDF for submission.</p>
                <button id="save-pdf-btn" class="submit-btn font-semibold py-3 px-6 rounded-lg">
                    Save as PDF for Submission
                </button>
            </div>
        </section>
    </main>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const saveButton = document.getElementById('save-pdf-btn');
            if(saveButton) {
                saveButton.addEventListener('click', () => {
                    window.print();
                });
            }

            // Set default date
            const dateInput = document.getElementById('submission-date');
            if(dateInput) {
                const today = new Date();
                const year = today.getFullYear();
                const month = String(today.getMonth() + 1).padStart(2, '0');
                const day = String(today.getDate()).padStart(2, '0');
                dateInput.value = `${year}-${month}-${day}`;
            }
        });
    </script>
</body>
</html>

