<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building a Decoder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                fontFamily: {
                    sans: ['Inter', 'system-ui', 'sans-serif'],
                },
                extend: {
                    colors: {
                        'page-bg': '#FDFBF8',
                        'text-primary': '#1A1A1A',
                        'accent-blue': '#2563EB',
                        'code-gray': '#4B5563',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #FDFBF8;
            color: #1A1A1A;
        }
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #2563EB;
            color: white;
            padding: 8px;
            text-decoration: none;
            z-index: 100;
        }
        .skip-link:focus {
            top: 0;
        }
        table {
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #d1d5db;
            padding: 12px;
            text-align: center;
        }
        th {
            background-color: #f3f4f6;
            font-weight: 600;
            color: #1a1a1a;
        }
        td {
            background-color: #ffffff;
        }
    </style>
</head>
<body class="bg-page-bg text-text-primary font-sans">
    <!-- Skip to Content Link -->
    <a href="#main-content" class="skip-link font-medium">Skip to main content</a>

    <main id="main-content" class="container mx-auto px-4 py-8 max-w-4xl">
        <h1 class="text-4xl md:text-5xl font-bold mb-8 text-text-primary">Building a Decoder</h1>
        
        <section class="mb-10">
            <h2 class="text-3xl font-bold mb-6 text-text-primary">What's a Decoder?</h2>
            
            <p class="mb-6 leading-relaxed text-lg">
                A decoder is a form of multiplexor. Based upon a given set of inputs, we get one and only 1 output from each combination.
            </p>
            
            <p class="mb-8 leading-relaxed text-lg">
                For example, a 2x4 decoder has 2 inputs and 4 possible outputs. In tabular form, this would look like the following table where A and B are the inputs and each different combination of A and B results in a different output:
            </p>

            <!-- 2x4 Decoder Truth Table -->
            <div class="overflow-x-auto mb-8">
                <table class="mx-auto">
                    <thead>
                        <tr>
                            <th class="w-24">A</th>
                            <th class="w-24">B</th>
                            <th class="w-32">Output</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>0</td>
                            <td>0</td>
                            <td>out 0</td>
                        </tr>
                        <tr>
                            <td>0</td>
                            <td>1</td>
                            <td>out 1</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>0</td>
                            <td>out 2</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>1</td>
                            <td>out 3</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <p class="mb-6 leading-relaxed text-lg">
                To create this simple decoder, we start with 2 simple 1-bit inputs, labeled A and B. We then run both inputs through <strong>NOT</strong> gates, to get "Not A" and "Not B." By effectively splitting A and B so that we have 4 usable inputs (A, B, Not A, and Not B), we then combine these inputs, as appropriate, into 4 two-input AND gates to achieve 4 possible outputs. If you build the circuit below in Logisim and run the simulation, you can test and verify that when you set A and B both to 0, Output 0 is 1. When you set A to 0 and B to 1, Output 1 is 1 and all others are 0. You can do this to verify that for each of the possible input combinations for A and B, only one of the outputs is 1 and all others are 0.
            </p>

            <figure class="my-10">
                <img src="images/2x4-decoder-circuit.jpg" 
                     alt="2x4 decoder circuit with 2 inputs A and B running through NOT gates, then combining into 4 AND gates to produce 4 outputs" 
                     class="max-w-full h-auto rounded-lg border border-gray-300 shadow-sm mx-auto"
                     style="max-width: 640px;"
                     loading="lazy">
                <figcaption class="text-sm text-gray-600 text-center mt-3 italic">
                    2x4 Decoder Circuit with Individual 1-bit Inputs
                </figcaption>
            </figure>

            <p class="mb-6 leading-relaxed text-lg">
                You can clean up the decoder by using a 2-bit input and then having each input run through NOT gates to get their complements, similar to that shown below. This setup will be helpful for the final CPU as you will need a 4x16 decoder. Please note that in a 4x16 decoder, each AND gate that determines the proper selection requires 4 inputs.
            </p>

            <figure class="my-10">
                <img src="images/2x4-decoder-2bit-input.jpg" 
                     alt="Simplified 2x4 decoder using 2-bit input with NOT gates to generate complements for cleaner circuit appearance" 
                     class="max-w-full h-auto rounded-lg border border-gray-300 shadow-sm mx-auto"
                     style="max-width: 640px;"
                     loading="lazy">
                <figcaption class="text-sm text-gray-600 text-center mt-3 italic">
                    2x4 Decoder with Cleaner 2-bit Input Structure
                </figcaption>
            </figure>
        </section>

        <section class="mb-10">
            <h2 class="text-3xl font-bold mb-6 text-text-primary">Extending the Decoder Design</h2>

            <p class="mb-6 leading-relaxed text-lg">
                In your final design, you will need a 3x8 decoder that is part of the ALU and some 4x16 decoders that are part of RAM (how you select individual RAM bytes by row and column). To create a 3x8 decoder, you need to extend the concept above for a 2x4 decoder. In a 3x8 decoder, you have 3 inputs: A, B, and C. Each input will then be split and NOTted for a total of 6 possible values (similar to above where you have 2 inputs, A and B, and each is NOTted to create 4 possible values). The 8 outputs come from 8 possible input sets with 3 inputs like 0,0,0 and 0,0,1 or 1,0,1. So for outputs, you will have 8 outputs made from 3-input AND gates where each AND gate has one input each from A or Not A, B or Not B, and C or Not C.
            </p>

            <p class="mb-8 leading-relaxed text-lg">
                The 4x16 decoder is one more extrapolation to 4 inputs: A, B, C, and D. Each is NOTted for a total of 8 values. With 4 bits, you have 16 possible combinations so your 16 outputs are 16 AND gates each with 4 inputs. After completion, the circuit appearance can be modified as shown in the image below where the input on the left is a 4-bit input and there are 16 1-bit outputs on the right. You need to make sure that your inputs and outputs match up so that when you have an input of 0000, your output is either the top output or bottom output (in the example below, it is the top). The input 0001 is the one next to that first output. 0010 is next, 0011 is next, continuing until you get to 1111 which is the other end of the output (in the example below, it is the bottom).
            </p>

            <figure class="my-10">
                <img src="images/decoder-4x16-symbol.png" 
                     alt="4x16 decoder circuit symbol showing 4-bit input on the left side and 16 individual 1-bit outputs on the right side" 
                     class="max-w-full h-auto rounded-lg border border-gray-300 shadow-sm mx-auto"
                     loading="lazy">
                <figcaption class="text-sm text-gray-600 text-center mt-3 italic">
                    4x16 Decoder Symbol with 4-bit Input and 16 1-bit Outputs
                </figcaption>
            </figure>
        </section>
    </main>
</body>
</html>
