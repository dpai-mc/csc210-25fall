<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circuits: RAM Summary</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // MANDATORY: Configure Tailwind to include the Typography plugin.
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                },
            },
            plugins: [
                require('@tailwindcss/typography'),
            ],
        }
    </script>
    <style>
        /* STRICT LIGHT THEME MANDATE: Overrides dark mode settings */
        html { 
            font-family: 'Inter', sans-serif; 
            background-color: #FDFBF8; 
            color: #1A1A1A; 
        }
        @media (prefers-color-scheme: dark) {
            html {
                background-color: #FDFBF8 !important; 
                color: #1A1A1A !important; 
            }
        }
        /* Custom class for Skip Link (visible on focus) */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #1A1A1A;
            color: white;
            padding: 8px;
            z-index: 100;
            transition: top 0.3s;
        }
        .skip-link:focus {
            top: 0;
        }
        /* Utility class for responsive video embeds (16:9 ratio) */
        .responsive-embed-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 */
            height: 0;
            overflow: hidden;
            max-width: 100%;
            background: #000;
        }
        .responsive-embed-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        /* Tab specific styling for clarity and visual separation */
        .tab-button.active {
            border-bottom: 3px solid #1D4ED8; /* Blue-700 */
            color: #1D4ED8;
            font-weight: 600;
            background-color: #F3F4F6; /* Gray-100 */
        }
        .tab-content-panel {
            display: none;
        }
        .tab-content-panel.active {
            display: block;
        }
    </style>
</head>
<body class="bg-[#FDFBF8] text-[#1A1A1A]">
    <a id="skip-to-content" href="#main-content" class="skip-link" tabindex="0">Skip to Content</a>
    
    <header class="bg-white shadow-md p-4 sticky top-0 z-10">
        <div class="max-w-7xl mx-auto">
            <h1 class="text-2xl font-bold text-[#1A1A1A]">Circuits: RAM Summary</h1>
        </div>
    </header>

    <main id="main-content" class="p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto">
        
        <h1 class="text-4xl font-extrabold mb-8 text-blue-700">RAM Summary: Building the CPU's Main Memory</h1>

        <section class="mb-8 p-6 bg-white rounded-xl shadow-lg">
            <div class="prose max-w-none">
                <h2 class="text-3xl font-bold mt-0 mb-4">Development Flowchart</h2>
                <p>To create the Random Access Memory (RAM) circuit, we must work through a hierarchical flow, building foundational components first and then assembling them into the final **256x8** memory unit. The overall process is described by the following flowchart:</p>
                
                <div class="flex justify-center my-6">
                    <img src="images/RAM_flowchart.jpg" alt="RAM Development Flowchart showing steps from 1-bit memory to 256x8 RAM" class="max-w-xl h-auto rounded-lg shadow-md border border-gray-300" />
                </div>

                <h2 class="text-2xl font-bold mt-8 mb-4">Required Circuit Components (Steps)</h2>
                <p>The circuit descriptions required for each stage are provided on the following linked pages. Complete these foundational components before proceeding to the final assembly:</p>
                
                <ol class="list-decimal list-inside space-y-2 pl-4">
                    <li><a title="Circuits: 1-bit Memory" href="circuits-1-bit-memory.html" class="text-blue-600 hover:text-blue-800">Circuits: 1-bit Memory</a>: The fundamental memory block.</li>
                    <li><a title="Circuits: Creating an 8-bit Register" href="circuits-creating-an-8-bit-register.html" class="text-blue-600 hover:text-blue-800">Circuits: Creating an 8-bit Register</a>: Stores one byte of data.</li>
                    <li><a title="Circuits: Building a Decoder" href="circuits-building-a-decoder.html" class="text-blue-600 hover:text-blue-800">Circuits: Building a Decoder</a>: Used for address selection.</li>
                    <li><a title="Circuits: Building the 16x8 RAM" href="circuits-building-the-16x8-ram.html" class="text-blue-600 hover:text-blue-800">Circuits: Building the 16x8 RAM</a>: Intermediate RAM block.</li>
                </ol>
            </div>
        </section>

        <section class="mb-8 p-6 bg-white rounded-xl shadow-lg border-2 border-gray-200">
            <h2 class="text-3xl font-bold mt-0 mb-4 text-gray-800">RAM Implementation Details</h2>

            <div role="tablist" aria-label="RAM Implementation Steps" class="flex flex-wrap border-b border-gray-300 mb-4">
                <button role="tab" aria-controls="tab-1" id="tab-btn-1" class="tab-button active p-4 text-lg text-gray-700 hover:bg-gray-100 transition duration-150 ease-in-out" onclick="switchTab(1)">1. Controlled Buffer</button>
                <button role="tab" aria-controls="tab-2" id="tab-btn-2" class="tab-button p-4 text-lg text-gray-700 hover:bg-gray-100 transition duration-150 ease-in-out" onclick="switchTab(2)">2. RAM Matrix Overview</button>
                <button role="tab" aria-controls="tab-3" id="tab-btn-3" class="tab-button p-4 text-lg text-gray-700 hover:bg-gray-100 transition duration-150 ease-in-out" onclick="switchTab(3)">3. The Addressable RAM Byte</button>
                <button role="tab" aria-controls="tab-4" id="tab-btn-4" class="tab-button p-4 text-lg text-gray-700 hover:bg-gray-100 transition duration-150 ease-in-out" onclick="switchTab(4)">4. Final 256x8 Wiring</button>
            </div>

            <div class="prose max-w-none">
                <div id="tab-1" role="tabpanel" aria-labelledby="tab-btn-1" class="tab-content-panel active p-4 bg-gray-50 rounded-lg">
                    <h3 class="text-2xl font-semibold mb-3 text-blue-700">1. Adding the Controlled Buffer</h3>
                    <p>To begin, you will be taking your **8-bit Register** and **adding a Controlled Buffer (T-Gate)** to the output side of the register. This buffer is essential to prevent the data from being output onto the shared data bus at all times.</p>
                    <div class="flex justify-center my-4">
                        <img src="images/Register_with_Controlled_Buffer.png" alt="Logisim diagram of an 8-bit register circuit with an 8-bit Controlled Buffer (T-Gate) added to the output path." class="max-w-md h-auto rounded-lg shadow-md border border-gray-300" />
                    </div>
                    <p>The buffer only allows the 8 bits of data to pass through to the output (the BUS) when its **Enable** pin is set to **1 (High)**. This control mechanism is crucial for the overall CPU design, as only one component should be outputting data to the BUS at any given time.</p>
                </div>

                <div id="tab-2" role="tabpanel" aria-labelledby="tab-btn-2" class="tab-content-panel p-4 bg-gray-50 rounded-lg">
                    <h3 class="text-2xl font-semibold mb-3 text-green-700">2. RAM as Matrix of Bytes - Overview</h3>
                    <p>The final RAM unit is an array of memory, organized as a **matrix of bytes**. Our **256x8 RAM** is essentially a **16x16 matrix**, where each cell holds one 8-bit register (one byte).</p>
                    <div class="flex justify-center my-4">
                        <img src="images/RAM_Matrix_Conceptual_Diagram.png" alt="Conceptual diagram of the 16x16 matrix structure of the 256x8 RAM, showing rows selected by the Row Decoder and columns selected by the Column Decoder." class="max-w-xl h-auto rounded-lg shadow-md border border-gray-300" />
                    </div>
                    <p>To select a specific byte within this matrix (which corresponds to a unique memory address), we need to select both its **row** and its **column** simultaneously. The full 8-bit address is split: four bits for the Row Decoder and four bits for the Column Decoder.</p>
                </div>

                <div id="tab-3" role="tabpanel" aria-labelledby="tab-btn-3" class="tab-content-panel p-4 bg-gray-50 rounded-lg">
                    <h3 class="text-2xl font-semibold mb-3 text-red-700">3. The Addressable RAM Byte</h3>
                    <p>Before assembling the full matrix, you must integrate the selection logic into the 8-bit register/buffer circuit. This completed unit will be the reusable **RAM Byte** component.</p>
                    <p>For a byte to be activated (either for a **read** or a **write** operation), it must be selected by **both** the Row Decoder and the Column Decoder. We achieve this with a 2-input **AND gate**:</p>
                    <ul class="list-disc list-inside space-y-1 pl-4 mt-2">
                        <li>**Input 1:** The **Row Selection** signal (coming from the Row Decoder). This is typically the **Set** signal for writing data.</li>
                        <li>**Input 2:** The **Column Selection** signal (coming from the Column Decoder). This is typically the **Enable** signal for reading data.</li>
                    </ul>
                    <p>The **output of this AND gate** is then wired to two places:</p>
                    <ol class="list-decimal list-inside space-y-1 pl-4 mt-2">
                        <li>The **Set** pin of the 8-bit Register (Allows data on the bus to be written into the register).</li>
                        <li>The **Enable** pin of the Controlled Buffer (Allows data in the register to be read out onto the bus).</li>
                    </ol>
                    <p>This combined control ensures the register is only selected for reading or writing when its specific row and column address bits are both active (1), making it a truly addressable unit.</p>
                    <div class="flex justify-center my-4">
                        <img src="images/Register_SetEnable_AND_Wiring.png" alt="Logisim wiring diagram showing an AND gate combining the Set signal (from Row Decoder) and the Enable signal (from Column Decoder) before connecting to the register's Set pin and the Controlled Buffer's Enable pin." class="max-w-md h-auto rounded-lg shadow-md border border-gray-300" />
                    </div>
                </div>

                <div id="tab-4" role="tabpanel" aria-labelledby="tab-btn-4" class="tab-content-panel p-4 bg-gray-50 rounded-lg">
                    <h3 class="text-2xl font-semibold mb-3 text-purple-700">4. Final 256x8 Wiring and Assembly</h3>
                    <p>Once your addressable RAM Byte (from step 3) is built and verified, you will use it to construct the full **256x8** memory. The assembly involves connecting the common bus and the address decoders to the matrix of your new RAM Byte components:</p>
                    <ul class="list-disc list-inside space-y-1 pl-4 mt-2">
                        <li>**Data Bus:** The 8-bit input (Data In) and 8-bit output (Data Out) lines are connected in parallel to **all 256** RAM Byte components.</li>
                        <li>**Address Lines:** The 8-bit address input is split: 4 bits to the **Row Decoder** (16 outputs) and 4 bits to the **Column Decoder** (16 outputs).</li>
                        <li>**Selection Wires:** The 16 outputs of the Row Decoder are connected to the Row Selection input of every byte in that row. The 16 outputs of the Column Decoder are connected to the Column Selection input of every byte in that column.</li>
                    </ul>
                    <p>This creates the necessary 16x16 mesh where only one byte's internal AND gate is active for any given 8-bit address.</p>
                    <div class="flex justify-center my-4">
                        <img src="images/RAM_Full_Wiring_Schematic.png" alt="Detailed Logisim schematic showing the full wiring setup for RAM, including the split address lines, decoders, and the common 8-bit data bus." class="max-w-xl h-auto rounded-lg shadow-md border border-gray-300" />
                    </div>
                </div>
            </div>
        </section>
        <section class="mb-8 p-6 bg-white rounded-xl shadow-lg">
            <div class="prose max-w-none">
                <h2 class="text-3xl font-bold mt-0 mb-4">Implementing the Full 256x8 RAM (The Final Component)</h2>

                <p>Once you have built and verified the **16x8 RAM** (which serves as a helpful intermediate step), you will use it as a component (or subcircuit) to build the full **256x8 RAM** unit required for the CPU. A possible circuit appearance for the 16x8 RAM component is shown below:</p>
                <div class="flex justify-center my-6">
                    <img src="images/16x8-RAM-appearance.png" alt="Circuit Appearance for 16x8 RAM component" class="max-w-md h-auto rounded-lg shadow-md border border-gray-300" />
                </div>
                
                <p>To address all 256 bytes (2<sup>8</sup>), the full RAM requires an **8-bit address input**. For building my RAM, I use two **4x16 Decoders** as selection devices to pick individual bytes of RAM. The 8-bit address is split, using 4 bits for each decoder to select a row and column of 16x16 16x8 RAM blocks.</p>
                
                <p>The image below shows a conceptual layout of the 256x8 RAM matrix utilizing the 4x16 decoders for addressing:</p>
                <div class="flex justify-center my-6">
                    <img src="images/256x8-ram-decoders.png" alt="Partial 256x8 RAM layout showing connection of two 4x16 Decoders to select individual bytes of RAM" class="max-w-xl h-auto rounded-lg shadow-md border border-gray-300" />
                </div>

                <p>The wiring and detailed explanation for this circuit is provided in the video below, which guides you through the process of chaining the decoders and memory blocks.</p>
                
                <div class="my-6 p-4 bg-gray-50 rounded-lg border border-gray-200">
                    <h3 class="text-xl font-semibold mb-4 text-gray-800">Video: Building Your RAM Circuit</h3>
                    
                    <div class="responsive-embed-container mb-4">
                        <iframe 
                            width="560" 
                            height="315" 
                            src="https://www.youtube.com/embed/l8YpnVyxOVw?si=VFP-oHTjz_QS1zqo" 
                            title="YouTube video player: Building Your RAM Circuit" 
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            referrerpolicy="strict-origin-when-cross-origin" 
                            allowfullscreen>
                        </iframe>
                    </div>
                    
                    <details class="mt-4 p-3 bg-white rounded border border-gray-300">
                        <summary class="font-semibold cursor-pointer text-blue-600 hover:text-blue-800">View Full Video Transcript (Building-4Bytes-RAM)</summary>
                        <div class="prose prose-sm max-w-none mt-4 border-t pt-3">
                            <p>Aloha, so in this video I just really wanted to go over a little bit of how this **RAM** works. So I built up just a little **2x2 RAM module**... (Full transcript content restored from previous output.)</p>
                        </div>
                    </details>
                </div>
                
                <h3 class="text-xl font-semibold mt-8 mb-4">Final Component Appearance</h3>
                <p>A possible Circuit Appearance for the Completed 256x8 RAM component is shown below. **MAR** stands for the **Memory Address Register** which provides the address of the byte to set or enable.</p>

                <div class="flex justify-center my-6">
                    <img src="images/final-256x8-RAM-appearance.png" alt="Final Circuit Appearance for the Completed 256x8 RAM component" class="max-w-md h-auto rounded-lg shadow-md border border-gray-300" />
                </div>
                
                <div class="p-4 bg-red-50 border border-red-300 rounded-lg mt-6">
                    <h4 class="text-lg font-bold text-red-700">⚠️ IMPORTANT NOTE FOR COURSE COMPLETION ⚠️</h4>
                    <p>In this diagram, the full potential of 256 bytes is shown. **For the purposes of this course, you should only "wire up" the first 2 rows of 16 bytes each for a total of 32 bytes and not the full 16 x 16 matrix of 256 bytes.** Implementing and testing the first 32 bytes is acceptable and sufficient for the final project.</p>
                </div>
            </div>
        </section>

        <footer class="mt-8 pt-4 border-t border-gray-300 text-center text-sm text-gray-500">
            <div class="prose max-w-none mx-auto">
                <p class="text-xs italic">Ref: This project adapted from "Design a CPU" by Ross McGowan (On Udemy)</p>
            </div>
        </footer>
    </main>
    
    <script>
        function switchTab(tabIndex) {
            // Remove 'active' class from all buttons and panels
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelectorAll('.tab-content-panel').forEach(panel => {
                panel.classList.remove('active');
            });

            // Add 'active' class to the selected button and panel
            const selectedButton = document.getElementById(`tab-btn-${tabIndex}`);
            const selectedPanel = document.getElementById(`tab-${tabIndex}`);
            
            if (selectedButton && selectedPanel) {
                selectedButton.classList.add('active');
                selectedPanel.classList.add('active');
            }
        }
        // Initialize the first tab as active on load
        document.addEventListener('DOMContentLoaded', () => {
            switchTab(1);
        });
    </script>
</body>
</html>
