<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circuits: RAM Summary</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // MANDATORY: Configure Tailwind to include the Typography plugin.
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                },
            },
            plugins: [
                require('@tailwindcss/typography'),
            ],
        }
    </script>
    <style>
        /* STRICT LIGHT THEME MANDATE: Overrides dark mode settings */
        html { 
            font-family: 'Inter', sans-serif; 
            background-color: #FDFBF8; 
            color: #1A1A1A; 
        }
        @media (prefers-color-scheme: dark) {
            html {
                background-color: #FDFBF8 !important; 
                color: #1A1A1A !important; 
            }
        }
        /* Custom class for Skip Link (visible on focus) */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #1A1A1A;
            color: white;
            padding: 8px;
            z-index: 100;
            transition: top 0.3s;
        }
        .skip-link:focus {
            top: 0;
        }
        /* Utility class for responsive video embeds (16:9 ratio) */
        .responsive-embed-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 */
            height: 0;
            overflow: hidden;
            max-width: 100%;
            background: #000;
        }
        .responsive-embed-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body class="bg-[#FDFBF8] text-[#1A1A1A]">
    <a id="skip-to-content" href="#main-content" class="skip-link" tabindex="0">Skip to Content</a>
    
    <header class="bg-white shadow-md p-4 sticky top-0 z-10">
        <div class="max-w-7xl mx-auto">
            <h1 class="text-2xl font-bold text-[#1A1A1A]">Circuits: RAM Summary</h1>
        </div>
    </header>

    <main id="main-content" class="p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto">
        
        <h1 class="text-4xl font-extrabold mb-8 text-blue-700">RAM Summary: Building the CPU's Main Memory</h1>

        <section class="mb-8 p-6 bg-white rounded-xl shadow-lg">
            <div class="prose max-w-none">
                <h2 class="text-3xl font-bold mt-0 mb-4">Development Flowchart</h2>
                <p>To create the Random Access Memory (RAM) circuit, we must work through a hierarchical flow, building foundational components first and then assembling them into the final **256x8** memory unit. The overall process is described by the following flowchart:</p>
                
                <div class="flex justify-center my-6">
                    <img src="images/RAM_flowchart.jpg" alt="RAM Development Flowchart showing steps from 1-bit memory to 256x8 RAM" class="max-w-xl h-auto rounded-lg shadow-md border border-gray-300" />
                </div>

                <h2 class="text-2xl font-bold mt-8 mb-4">Required Circuit Components (Steps)</h2>
                <p>The circuit descriptions required for each stage are provided on the following linked pages. Complete these foundational components before proceeding to the final assembly:</p>
                
                <ol class="list-decimal list-inside space-y-2 pl-4">
                    <li><a title="Circuits: 1-bit Memory" href="circuits-1-bit-memory.html" class="text-blue-600 hover:text-blue-800">Circuits: 1-bit Memory</a>: The fundamental building block (typically an S-R Latch or D Flip-Flop).</li>
                    <li><a title="Circuits: Creating an 8-bit Register" href="circuits-creating-an-8-bit-register.html" class="text-blue-600 hover:text-blue-800">Circuits: Creating an 8-bit Register</a>: Combining eight 1-bit memory circuits to store one byte of data.</li>
                    <li><a title="Circuits: Building a Decoder" href="circuits-building-a-decoder.html" class="text-blue-600 hover:text-blue-800">Circuits: Building a Decoder</a>: Used to select a specific register (memory location) based on an address input.</li>
                    <li><a title="Circuits: Building the 16x8 RAM" href="circuits-building-the-16x8-ram.html" class="text-blue-600 hover:text-blue-800">Circuits: Building the 16x8 RAM</a>: Assembling 16 8-bit Registers with a Decoder to create a small RAM block.</li>
                </ol>
            </div>
        </section>

        <section class="mb-8 p-6 bg-yellow-50 rounded-xl shadow-lg border-2 border-yellow-300">
            <h2 class="text-3xl font-bold mt-0 mb-4 text-gray-800">RAM Implementation Details</h2>

            <div class="mb-6 p-4 border-l-4 border-blue-500 bg-blue-50">
                <h3 class="text-2xl font-semibold mb-3 text-blue-700">1. Adding the Controlled Buffer</h3>
                <p>To begin, you will be taking your **8-bit Register** and **adding a Controlled Buffer** to the output side of the register. This buffer (or **T-Gate**) is necessary to prevent the data from being output onto the bus at all times.</p>
                <p>The buffer only allows the 8 bits of data to pass through to the output (the BUS) when its **Enable** pin is set to **1 (High)**. This control mechanism is crucial for the overall CPU design, as only one component should be outputting data to the BUS at any given time.</p>
            </div>

            <div class="mb-6 p-4 border-l-4 border-green-500 bg-green-50">
                <h3 class="text-2xl font-semibold mb-3 text-green-700">2. RAM as Matrix of Bytes - Overview</h3>
                <p>The final RAM unit is an array of memory, organized as a **matrix of bytes**. Our **256x8 RAM** is essentially a **16x16 matrix**, where each cell holds one 8-bit register (one byte).</p>
                <p>To select a specific byte within this matrix (which corresponds to a unique memory address), we need to select both its **row** and its **column** simultaneously. This is where the address decoder comes into play.</p>
            </div>

            <div class="mb-6 p-4 border-l-4 border-red-500 bg-red-50">
                <h3 class="text-2xl font-semibold mb-3 text-red-700">3. Adding Selection to our Register Byte</h3>
                <p>For each individual 8-bit register in the matrix, two main control lines will determine if it is selected for a read or write operation:</p>
                <ul class="list-disc list-inside space-y-1 pl-4 mt-2">
                    <li>The **Set** line (from the row selection)</li>
                    <li>The **Enable** line (from the column selection)</li>
                </ul>
                <p>We use an **AND gate** to combine the selection signal from the **Row Decoder** (the **Set** input) and the selection signal from the **Column Decoder** (the **Enable** input). The output of this AND gate is then connected to both the register's **Set** pin and the **Controlled Buffer's Enable** pin.</p>
                <p>This ensures that a byte is only active when both its row and column addresses are selected.</p>
            </div>

            <div class="p-4 border-l-4 border-purple-500 bg-purple-50">
                <h3 class="text-2xl font-semibold mb-3 text-purple-700">4. Wiring Up Your RAM</h3>
                <p>Once you have the foundation, the wiring involves connecting the control signals, data lines, and address lines across the entire matrix:</p>
                <ul class="list-disc list-inside space-y-1 pl-4 mt-2">
                    <li>**Data Bus:** The common 8-bit input (data to be written) and 8-bit output (data to be read) lines run through all 256 memory registers.</li>
                    <li>**Address Lines:** The 8-bit address input is split into two 4-bit sets. Four bits go to the **Row Decoder** (to select one of 16 rows), and the other four bits go to the **Column Decoder** (to select one of 16 columns).</li>
                    <li>**Control Lines:** The outputs of the two decoders are connected via the AND gate to the corresponding Set/Enable inputs of the single, target register.</li>
                </ul>
            </div>
        </section>
        <section class="mb-8 p-6 bg-white rounded-xl shadow-lg">
            <div class="prose max-w-none">
                <h2 class="text-3xl font-bold mt-0 mb-4">Implementing the Full 256x8 RAM (The Final Component)</h2>

                <p>Once you have built and verified the **16x8 RAM**, you use it as a component (or subcircuit) to build the full **256x8 RAM** unit required for the CPU. A possible circuit appearance for the 16x8 RAM component is shown below:</p>
                <div class="flex justify-center my-6">
                    <img src="images/16x8-RAM-appearance.png" alt="Circuit Appearance for 16x8 RAM component" class="max-w-md h-auto rounded-lg shadow-md border border-gray-300" />
                </div>
                
                <p>To address all 256 bytes (2<sup>8</sup>), the full RAM requires an **8-bit address input**. For building my RAM, I use two **4x16 Decoders** as selection devices to pick individual bytes of RAM. The 8-bit address is split, using 4 bits for each decoder to select a row and column of 16x16 16x8 RAM blocks.</p>
                
                <p>The image below shows a conceptual layout of the 256x8 RAM matrix utilizing the 4x16 decoders for addressing:</p>
                <div class="flex justify-center my-6">
                    <img src="images/256x8-ram-decoders.png" alt="Partial 256x8 RAM layout showing connection of two 4x16 Decoders to select individual bytes of RAM" class="max-w-xl h-auto rounded-lg shadow-md border border-gray-300" />
                </div>

                <p>The wiring and detailed explanation for this circuit is provided in the video below, which guides you through the process of chaining the decoders and memory blocks.</p>
                
                <div class="my-6 p-4 bg-gray-50 rounded-lg border border-gray-200">
                    <h3 class="text-xl font-semibold mb-4 text-gray-800">Video: Building Your RAM Circuit</h3>
                    
                    <div class="responsive-embed-container mb-4">
                        <iframe 
                            width="560" 
                            height="315" 
                            src="https://www.youtube.com/embed/l8YpnVyxOVw?si=VFP-oHTjz_QS1zqo" 
                            title="YouTube video player: Building Your RAM Circuit" 
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            referrerpolicy="strict-origin-when-cross-origin" 
                            allowfullscreen>
                        </iframe>
                    </div>
                    
                    <details class="mt-4 p-3 bg-white rounded border border-gray-300">
                        <summary class="font-semibold cursor-pointer text-blue-600 hover:text-blue-800">View Full Video Transcript (Building-4Bytes-RAM)</summary>
                        <div class="prose prose-sm max-w-none mt-4 border-t pt-3">
                            <p>Aloha, so in this video I just really wanted to go over a little bit of how this **RAM** works. So I built up just a little **2x2 RAM module**. You can see my each byte, so I have a vertical and horizontal input output, set, enable, reset, and then on each one I added a little output pin that I tied to memory so that I can view what's in it. Okay, now the other things that I had to add: I have two decoders, one here for the horizontal so each line is a different row of my 16x16 matrix, and then up top here for the column, so each column, so I have 16 columns, gets one of the address inputs.</p>
                            <p>I have an address input of eight bits. Four bits are going to the horizontal decoder and four bits are going to the vertical decoder. The outputs of the horizontal decoder are going to go into the set and the outputs of the vertical decoder are going to go into the enable. So, only when the horizontal and vertical are high (which only happens on one line of each) will the enable and set on that specific byte be active.</p>
                            <p>We take the set and enable and we put them into an **AND gate**, and then we take the output of the AND gate into the set on the byte and the output of the AND gate into the enable on the byte. Okay, so when the set for this decoder and the enable for this decoder are both on, that specific byte is on, and that specific byte is the one that's connected to the input and output bus. The other thing that I need to add is a **Memory Address Register (MAR)**. Okay, so I'm going to take all eight bits, four to the horizontal and four to the vertical, and I'm going to take the clock in there, and I'm going to take my input for the address and tie it to the clock.</p>
                            <p>So when the clock goes high, that address is going to be loaded into my decoder, which will be loaded into my 16x16 matrix. Okay, so hopefully that is helpful. And then I'll throw up a diagram a little bit later of how I envisioned RAM to be. Because you've got to set it up to have, you know, this memory address. So you have to have an address, set address for memory. Then you're going to have a set, enable, reset, input, and output pins. When you redraw this, you know, when you go to edit circuit appearance, you're going to redraw this and move it around and fix it so that it looks good and you can use it at the next level.</p>
                        </div>
                    </details>
                </div>
                
                <h3 class="text-xl font-semibold mt-8 mb-4">Final Component Appearance</h3>
                <p>A possible Circuit Appearance for the Completed 256x8 RAM component is shown below. **MAR** stands for the **Memory Address Register** which provides the address of the byte to set or enable.</p>

                <div class="flex justify-center my-6">
                    <img src="images/final-256x8-RAM-appearance.png" alt="Final Circuit Appearance for the Completed 256x8 RAM component" class="max-w-md h-auto rounded-lg shadow-md border border-gray-300" />
                </div>
                
                <div class="p-4 bg-red-50 border border-red-300 rounded-lg mt-6">
                    <h4 class="text-lg font-bold text-red-700">⚠️ IMPORTANT NOTE FOR COURSE COMPLETION ⚠️</h4>
                    <p>In this diagram, the full potential of 256 bytes is shown. **For the purposes of this course, you should only "wire up" the first 2 rows of 16 bytes each for a total of 32 bytes and not the full 16 x 16 matrix of 256 bytes.** Implementing and testing the first 32 bytes is acceptable and sufficient for the final project.</p>
                </div>
            </div>
        </section>

        <footer class="mt-8 pt-4 border-t border-gray-300 text-center text-sm text-gray-500">
            <div class="prose max-w-none mx-auto">
                <p class="text-xs italic">Ref: This project adapted from "Design a CPU" by Ross McGowan (On Udemy)</p>
            </div>
        </footer>
    </main>
</body>
</html>
