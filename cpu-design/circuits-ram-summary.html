<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circuits: RAM Summary</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // MANDATORY: Configure Tailwind to include the Typography plugin.
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                },
            },
            plugins: [
                require('@tailwindcss/typography'),
            ],
        }
    </script>
    <style>
        /* STRICT LIGHT THEME MANDATE: Overrides dark mode settings */
        html { 
            font-family: 'Inter', sans-serif; 
            background-color: #FDFBF8; 
            color: #1A1A1A; 
        }
        @media (prefers-color-scheme: dark) {
            html {
                background-color: #FDFBF8 !important; 
                color: #1A1A1A !important; 
            }
        }
        /* Custom class for Skip Link (visible on focus) */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #1A1A1A;
            color: white;
            padding: 8px;
            z-index: 100;
            transition: top 0.3s;
        }
        .skip-link:focus {
            top: 0;
        }
        /* Utility class for responsive video embeds (16:9 ratio) */
        .responsive-embed-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 */
            height: 0;
            overflow: hidden;
            max-width: 100%;
            background: #000;
        }
        .responsive-embed-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        /* Tab specific styling for clarity and visual separation */
        .tab-button.active {
            border-bottom: 3px solid #1D4ED8; /* Blue-700 */
            color: #1D4ED8;
            font-weight: 600;
            background-color: #F3F4F6; /* Gray-100 */
        }
        .tab-content-panel {
            display: none;
        }
        .tab-content-panel.active {
            display: block;
        }
    </style>
</head>
<body class="bg-[#FDFBF8] text-[#1A1A1A]">
    <a id="skip-to-content" href="#main-content" class="skip-link" tabindex="0">Skip to Content</a>
    
    <header class="bg-white shadow-md p-4 sticky top-0 z-10">
        <div class="max-w-7xl mx-auto">
            <h1 class="text-2xl font-bold text-[#1A1A1A]">Circuits: RAM Summary</h1>
        </div>
    </header>

    <main id="main-content" class="p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto">
        
        <h1 class="text-4xl font-extrabold mb-8 text-blue-700">RAM Summary: Building the CPU's Main Memory</h1>

        <section class="mb-8 p-6 bg-white rounded-xl shadow-lg">
            <div class="prose max-w-none">
                <h2 class="text-3xl font-bold mt-0 mb-4">Development Flowchart</h2>
                <p>To create the Random Access Memory (RAM) circuit, we must work through a hierarchical flow, building foundational components first and then assembling them into the final 16x16 memory unit. The overall process is described by the following flowchart:</p>
                
                <div class="flex justify-center my-6">
                    <img src="images/RAM_flowchart.jpg" alt="RAM Development Flowchart showing steps from 1-bit memory to 256x8 RAM" class="max-w-xl h-auto rounded-lg shadow-md border border-gray-300" />
                </div>

                <h2 class="text-2xl font-bold mt-8 mb-4">Required Circuit Components (Steps)</h2>
                <p>The circuit descriptions required for each stage are provided on the following linked pages. Complete these foundational components before proceeding to the final assembly:</p>
                
                <ol class="list-decimal list-inside space-y-2 pl-4">
                    <li><a title="Circuits: 1-bit Memory" href="circuits-1-bit-memory.html" class="text-blue-600 hover:text-blue-800">Circuits: 1-bit Memory</a>: The fundamental memory block.</li>
                    <li><a title="Circuits: Creating an 8-bit Register" href="circuits-creating-an-8-bit-register.html" class="text-blue-600 hover:text-blue-800">Circuits: Creating an 8-bit Register</a>: Stores one byte of data.</li>
                    <li><a title="Circuits: Building a Decoder" href="circuits-building-a-decoder.html" class="text-blue-600 hover:text-blue-800">Circuits: Building a Decoder</a>: Used for address selection.</li>
                </ol>
                <p>After completing the circuits above, we need to modify our 8 bit register to create a memory byte. These changes include:</p>
                <ul>
                    <li>Adding a Controlled Buffer to output of the CPU Enable subsection</li>
                    <li>Adding a selection circuit to choose which of the individual Bytes in RAM we have</li>
                </ul>
            </div>
        </section>

        <section class="mb-8 p-6 bg-white rounded-xl shadow-lg border-2 border-gray-200">
            <h2 class="text-3xl font-bold mt-0 mb-4 text-gray-800">RAM Implementation Details</h2>

            <div role="tablist" aria-label="RAM Implementation Steps" class="flex flex-wrap border-b border-gray-300 mb-4">
                <button role="tab" aria-controls="tab-1" id="tab-btn-1" class="tab-button active p-4 text-lg text-gray-700 hover:bg-gray-100 transition duration-150 ease-in-out" onclick="switchTab(1)">1. Controlled Buffer</button>
                <button role="tab" aria-controls="tab-2" id="tab-btn-2" class="tab-button p-4 text-lg text-gray-700 hover:bg-gray-100 transition duration-150 ease-in-out" onclick="switchTab(2)">2. RAM Matrix Overview</button>
                <button role="tab" aria-controls="tab-3" id="tab-btn-3" class="tab-button p-4 text-lg text-gray-700 hover:bg-gray-100 transition duration-150 ease-in-out" onclick="switchTab(3)">3. The Addressable RAM Byte</button>
                <button role="tab" aria-controls="tab-4" id="tab-btn-4" class="tab-button p-4 text-lg text-gray-700 hover:bg-gray-100 transition duration-150 ease-in-out" onclick="switchTab(4)">4. Wiring up your RAM</button>
            </div>

            <div class="prose max-w-none">
                <div id="tab-1" role="tabpanel" aria-labelledby="tab-btn-1" class="tab-content-panel active p-4 bg-gray-50 rounded-lg">
                    <h3 class="text-2xl font-semibold mb-3 text-blue-700">1. Adding the Controlled Buffer</h3>
                    <p>Because all of the individual RAM bytes are all attached to the same input and output circuits, it is necessary to have a controlled buffer on the output side of each Byte of RAM. We can do this by updating our original 8 bit register to include a controlled Buffer that is controlled by the enable bit. We do this because the enable bit is the one that allows what is stored in the RAM Byte to be placed on the Output wire as shown:</p>
                    <div class="flex justify-center my-4">
                        <img src="images/Register_with_Controlled_Buffer.jpg" alt="Logisim diagram of an 8-bit register circuit with an 8-bit Controlled Buffer (T-Gate) added to the output path." class="max-w-md h-auto rounded-lg shadow-md border border-gray-300" />
                    </div>
                    <p>The buffer only allows the 8 bits of data to pass through to the output (the BUS) when its Enable pin is set to 1 (High). This control mechanism is crucial for the overall CPU design, as only one component should be outputting data to the BUS at any given time.</p>
                </div>

                <div id="tab-2" role="tabpanel" aria-labelledby="tab-btn-2" class="tab-content-panel p-4 bg-gray-50 rounded-lg">
                    <h3 class="text-2xl font-semibold mb-3 text-green-700">2. RAM as Matrix of Bytes - Overview</h3>
                    <p>The final RAM unit is an array of memory, organized as a matrix of bytes. Our 256 bytes of RAM is essentially a 16x16 matrix, where each cell holds one 8-bit register (one byte). We can identify the row and column being selected in our matrix by using the first 4-bits to define the row and the last 4-bits to define the column as depicted in the figure below.</p>
                    <div class="flex justify-center my-6">
                        <img src="images/RAM_Matrix_Conceptual_Diagram.png" alt="Conceptual diagram of the 16x16 matrix structure of the 256x8 RAM, showing rows selected by the Row Decoder and columns selected by the Column Decoder." class="max-w-xl h-auto rounded-lg shadow-md border border-gray-300" />
                    </div>
                    
                </div>

                <div id="tab-3" role="tabpanel" aria-labelledby="tab-btn-3" class="tab-content-panel p-4 bg-gray-50 rounded-lg">
                    <h3 class="text-2xl font-semibold mb-3 text-red-700">3. The Addressable RAM Byte</h3>
                    <p>Before assembling the full matrix, you must integrate the selection logic into the 8-bit register/buffer circuit. This completed unit will be the reusable RAM Byte component.</p>
                    <p>For a byte to be activated (either for a read or a write operation), it must be selected by <strong>both</strong> the Row Decoder and the Column Decoder. We achieve this with a 2-input AND gate:</p>
                    <div class="flex justify-center my-4">
                        <img src="images/ram-and-for-h-v.jpg" alt="2-input AND gate using horizontal, h, and vertical, v, selectors for row and column, respectively." class="max-w-xl h-auto rounded-lg shadow-md border border-gray-300" />
                    </div>
                   <p>After adding this Selector Gate, we then need to be able to "set" the value. We do this by ANDing the selector result with the "set" bit. This is how we will "set" the value stored in this Byte of RAM.</p>
                    <div class="flex justify-center my-4">
                        <img src="images/ram-and-h-v-set.jpg" alt="2-input AND gate adding the 'set' bit to the selector result." class="max-w-xl h-auto rounded-lg shadow-md border border-gray-300" />
                    </div>


                   <p>In addition to being able to "set" the value, we need to be able to "enable" or retrieve what is stored in this byte. We do this by ANDing the same selector result with the "enable" bit.</p>
                    <div class="flex justify-center my-4">
                        <img src="images/ram-and-h-v-set-enable.jpg" alt="2-input AND gate adding the 'enable' bit to the selector plus set result." class="max-w-xl h-auto rounded-lg shadow-md border border-gray-300" />
                    </div>

                    <p>The last thing that we need to add to this circuit is a way to "Reset" the values stored in RAM. This will allow us to fill all elements of RAM with all zero's or all one's or whatever we want. To do this, we will add a "Reset" bit to the "Set" circuit. To allow the Reset bit to work whenever it is set to 1, we take the output of the Selector after the "set" and OR it with the "Reset" bit. This means that we can "Set" the value stored in the RAM byte whenever it is selected through "h" and "v" or whenever "Reset" is set to 1.</p>
                    <div class="flex justify-center my-4">
                        <img src="images/ram-and-h-v-set-enable-reset.jpg" alt="2-input AND gate adding the 'enable' bit to the selector plus set result." class="max-w-xl h-auto rounded-lg shadow-md border border-gray-300" />
                    </div>
                    <p>We can now wire up our RAM Byte by connecting the "set" circuit to the "s" input of our 8-bit register and the "enable" circuit to the "e" input. We also can place another controlled buffer on the output just as we did in the 8-bit register mod as shown below:</p>


                    <div class="flex justify-center my-4">
                        <img src="images/cpu-ram-byte.jpg" alt="Logisim wiring diagram showing an AND gate combining the Set signal (from Row Decoder) and the Enable signal (from Column Decoder) before connecting to the register's Set pin and the Controlled Buffer's Enable pin." class="max-w-md h-auto rounded-lg shadow-md border border-gray-300" />
                    </div>
                </div>

                
            </div>
        </section>
        <section class="mb-8 p-6 bg-white rounded-xl shadow-lg">
            <div class="prose max-w-none">
                <h2 class="text-3xl font-bold mt-0 mb-4">Implementing the Full 256 Byte RAM (The Final Component)</h2>

                <p>After adding my horizontal and vertical selectors, along with the reset input pins, I abstracted my CPU Byte by re-drawing the circuit as a box as shown in the image below where I have the Horizontal, Vertical and Input pins on the left hand side, the reset and output pins on the right hand side, the Set and Enable pins on the bottom and the Memory output for what is stored in this byte of RAM on the Top.</p>
                <div class="flex justify-center my-6">
                    <img src="images/cpu-reg-byte-appearance.jpg" alt="Circuit Appearance for 16x8 RAM component" class="max-w-md h-auto rounded-lg shadow-md border border-gray-300" />
                </div>
                
                <p>For building my RAM, I use two 4x16 Decoders as selection devices to pick individual bytes of RAM. The wiring and explanation for this circuit is provided in the video that follows this image</p>
                <div class="flex justify-center my-6">
                    <img src="images/cpu-ram-4byte-wiring.jpg" alt="Partial 256x8 RAM layout showing connection of two 4x16 Decoders to select individual bytes of RAM" class="max-w-xl h-auto rounded-lg shadow-md border border-gray-300" />
                </div>

                <p>The wiring and detailed explanation for this circuit is provided in the video below, which guides you through the process of chaining the decoders and memory blocks.</p>
                
                <div class="my-6 p-4 bg-gray-50 rounded-lg border border-gray-200">
                    <h3 class="text-xl font-semibold mb-4 text-gray-800">Video: Building Your RAM Circuit</h3>
                    
                    <div class="responsive-embed-container mb-4">
                        <iframe 
                            width="560" 
                            height="315" 
                            src="https://www.youtube.com/embed/l8YpnVyxOVw?si=VFP-oHTjz_QS1zqo" 
                            title="YouTube video player: Building Your RAM Circuit" 
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            referrerpolicy="strict-origin-when-cross-origin" 
                            allowfullscreen>
                        </iframe>
                    </div>
                    
                    <details class="mt-4 p-3 bg-white rounded border border-gray-300">
                        <summary class="font-semibold cursor-pointer text-blue-600 hover:text-blue-800">View Full Video Transcript (Building-4Bytes-RAM)</summary>
                        <div class="prose prose-sm max-w-none mt-4 border-t pt-3">
                            <p>Aloha, so in this video I just really wanted to go over a little bit of how this **RAM** works. So I built up just a little **2x2 RAM module**... (Full transcript content restored from previous output.)</p>
                        </div>
                    </details>
                </div>
                
                <h3 class="text-xl font-semibold mt-8 mb-4">Final Component Appearance</h3>
                <p>A possible Circuit Appearance for the Completed 256 Byte RAM component is shown below. MAR stands for the Memory Address Register which provides the address of the byte to set or enable.</p>

                <div class="flex justify-center my-6">
                    <img src="images/cpu-ram-circuit-appearance.jpg" alt="Final Circuit Appearance for the Completed 256x8 RAM component" class="max-w-md h-auto rounded-lg shadow-md border border-gray-300" />
                </div>
                
                <div class="p-4 bg-red-50 border border-red-300 rounded-lg mt-6">
                    <h4 class="text-lg font-bold text-red-700">⚠️ IMPORTANT NOTE FOR COURSE COMPLETION ⚠️</h4>
                    <p>In this diagram, the full potential of 256 bytes is shown. **For the purposes of this course, you should only "wire up" the first 2 rows of 16 bytes each for a total of 32 bytes and not the full 16 x 16 matrix of 256 bytes.** Implementing and testing the first 32 bytes is acceptable and sufficient for the final project.</p>
                </div>
            </div>
        </section>

        <footer class="mt-8 pt-4 border-t border-gray-300 text-center text-sm text-gray-500">
            <div class="prose max-w-none mx-auto">
                <p class="text-xs italic">Ref: This project adapted from "Design a CPU" by Ross McGowan (On Udemy)</p>
            </div>
        </footer>
    </main>
    
    <script>
        function switchTab(tabIndex) {
            // Remove 'active' class from all buttons and panels
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelectorAll('.tab-content-panel').forEach(panel => {
                panel.classList.remove('active');
            });

            // Add 'active' class to the selected button and panel
            const selectedButton = document.getElementById(`tab-btn-${tabIndex}`);
            const selectedPanel = document.getElementById(`tab-${tabIndex}`);
            
            if (selectedButton && selectedPanel) {
                selectedButton.classList.add('active');
                selectedPanel.classList.add('active');
            }
        }
        // Initialize the first tab as active on load
        document.addEventListener('DOMContentLoaded', () => {
            switchTab(1);
        });
    </script>
</body>
</html>

