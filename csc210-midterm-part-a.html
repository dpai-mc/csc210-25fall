<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSC210 Midterm Exam - Part A</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">

    <style>
        /* Embedded CSS for Component Styling */
        body {
            background-color: #FDFBF8;
            font-family: 'Inter', sans-serif;
            color: #383838;
        }

        /* Using Tailwind's @apply for custom classes based on the spec */
        @layer base {
            h1 {
                @apply text-3xl md:text-4xl font-bold;
            }
            h2 {
                @apply text-2xl font-bold mt-8 mb-4 pb-2 border-b border-[#EADDD7];
            }
            h3 {
                @apply text-xl font-semibold mt-6 mb-2;
            }
            h4 {
                @apply text-lg font-semibold mt-4 mb-2;
            }
            code, .code-font {
                font-family: 'Fira Code', monospace;
            }
        }

        .submit-btn {
            background-color: #4A90E2;
            color: white;
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            transition: background-color 0.2s ease-in-out;
        }

        .submit-btn:hover {
            background-color: #357ABD;
        }

        .code-block {
            background-color: #f4f4f4;
            border: 1px solid #ddd;
            padding: 1rem;
            border-radius: 0.5rem;
            white-space: pre-wrap;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        /* Helper for the code block */
        .code-block pre {
            margin: 0;
            padding: 0;
            white-space: pre-wrap;
        }

        /* Print-friendly styles */
        @media print {
            body {
                background-color: #FFFFFF;
            }
            .no-print {
                display: none;
            }
            main {
                max-width: 100% !important;
                padding: 0 !important;
                border: none !important;
                box-shadow: none !important;
            }
        }
    </style>
</head>

<body class="antialiased">

    <main class="max-w-[800px] mx-auto p-4 md:p-8">
        
        <header class="flex justify-between items-center mb-6 no-print">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800">CSC210 Midterm Exam</h1>
            <button onclick="window.print()" class="submit-btn">Save as PDF</button>
        </header>

        <section id="exam-overview">
            <h2>Part A: MIPS Programming (50%)</h2>
            <p class="mb-2">This is Part A of your CSC210 Midterm Exam, focusing on MIPS assembly programming with emphasis on memory operations, arrays, and recursion. Part B (Digital Circuit Design) will be provided separately. This is an open-book, open-notes exam, but you must work independently.</p>
            <ul class="list-disc list-inside space-y-1 bg-gray-50 p-4 rounded-lg">
                <li><strong>Exam Opens:</strong> Week 8</li>
                <li><strong>Due Date:</strong> October 19, 2025 at 11:59 PM</li>
                <li><strong>Total Points:</strong> 50 points (50% of Midterm grade)</li>
                <li><strong>Estimated Time:</strong> 1.5-2 hours</li>
            </ul>
        </section>

        <section id="honor-code">
            <h2>Honor Code Statement</h2>
            <p class="mb-2">By submitting this exam, you affirm that all work is your own. You may use course materials, textbooks, and your own notes, but you may NOT:</p>
            <ul class="list-disc list-inside space-y-1">
                <li>Collaborate with other students</li>
                <li>Share code or solutions</li>
                <li>Use solutions from previous semesters</li>
                <li>Use AI tools to generate complete solutions (you may use them only for syntax reference)</li>
            </ul>
        </section>

        <section id="exam-problems">
            <h2>Exam Problems</h2>

            <article class="problem" id="problem1">
                <h3>Problem 1: Array Operations (15 points)</h3>
                <p>Write a MIPS program that demonstrates array manipulation skills.</p>
                <h4 class="font-semibold mt-4 mb-2">Requirements:</h4>
                <ul class="list-disc list-inside space-y-1">
                    <li>Declare an integer array with exactly 8 elements: `[12, 45, 7, 23, 67, 89, 34, 56]`</li>
                    <li>Implement and display results for:
                        <ul class="list-circle list-inside ml-6">
                            <li>Find and print the maximum value and its index</li>
                            <li>Calculate and print the sum of all elements</li>
                            <li>Reverse the array in-place (swap elements)</li>
                            <li>Print the reversed array</li>
                        </ul>
                    </li>
                </ul>
                <h4 class="font-semibold mt-4 mb-2">Constraints:</h4>
                <ul class="list-disc list-inside space-y-1">
                    <li>Use pointer-based traversal for finding max</li>
                    <li>Use index-based traversal for reversal</li>
                    <li>All output must have descriptive labels</li>
                </ul>
                <h4 class="font-semibold mt-4 mb-2">Sample Output:</h4>
                <pre class="code-block"><code>Maximum value: 89 at index 5
Sum of elements: 333
Reversed array: 56 34 89 67 23 7 45 12</code></pre>
            </article>

            <hr class="my-8 border-gray-200">

            <article class="problem" id="problem2">
                <h3>Problem 2: String Palindrome Checker (10 points)</h3>
                <p>Write a MIPS program that: Prompts the user for a string (max 50 characters), checks if it's a palindrome (ignoring spaces and case), and displays the result.</p>
                <h4 class="font-semibold mt-4 mb-2">Requirements:</h4>
                <ul class="list-disc list-inside space-y-1">
                    <li>Must handle uppercase and lowercase letters</li>
                    <li>Must ignore spaces in comparison</li>
                    <li>Use two-pointer approach (start and end)</li>
                </ul>
                <h4 class="font-semibold mt-4 mb-2">Sample Runs:</h4>
                <pre class="code-block"><code>Enter string: A man a plan a canal Panama
Result: IS a palindrome

Enter string: Hello World
Result: NOT a palindrome</code></pre>
            </article>

            <hr class="my-8 border-gray-200">

            <article class="problem" id="problem3">
                <h3>Problem 3: Recursive Array Maximum (15 points)</h3>
                <p>Write a complete MIPS program with a recursive function that finds the maximum element in an array.</p>
                <h4 class="font-semibold mt-4 mb-2">Function Specification:</h4>
                <pre class="code-block"><code># Function: findMax
# Parameters: 
#   $a0 = array base address
#   $a1 = array size (number of elements)
# Returns:
#   $v0 = maximum value in array
#
# Algorithm:
#   Base case: if size == 1, return array[0]
#   Recursive case: 
#     - max_of_rest = findMax(array+4, size-1)
#     - return max(array[0], max_of_rest)</code></pre>
                <h4 class="font-semibold mt-4 mb-2">Function Requirements:</h4>
                <ul class="list-disc list-inside space-y-1">
                    <li>Properly manage stack frame (save $ra and any used registers)</li>
                    <li>Handle base case: single element array</li>
                    <li>Include clear stack frame diagram in comments</li>
                </ul>
                <h4 class="font-semibold mt-4 mb-2">Required Stack Frame Comment:</h4>
                <pre class="code-block"><code># Stack frame layout:
# -----------------
# $ra        [+12]
# $s0        [+8]   # saved array[0] value
# $a0        [+4]   # saved array address
# $a1        [+0]   # saved size
# -----------------
# Total: 16 bytes</code></pre>
                 <h4 class="font-semibold mt-4 mb-2">Main Program:</h4>
                <ul class="list-disc list-inside space-y-1">
                    <li>Test with at least two different arrays</li>
                    <li>Display the maximum value found for each test array</li>
                </ul>
                <h4 class="font-semibold mt-4 mb-2">Sample Output:</h4>
                <pre class="code-block"><code>Test array 1: [15, 72, 31, 8, 45, 90, 23]
Maximum value: 90

Test array 2: [5, -3, 12, 7, -8, 25]
Maximum value: 25</code></pre>
            </article>
            
            <hr class="my-8 border-gray-200">

            <article class="problem" id="problem4">
                <h3>Problem 4: Debug Memory Errors (10 points)</h3>
                <p>Fix the following buggy program that attempts to find the sum of positive numbers in an array. This program has 4 memory-related errors. Find and fix them all! Comment each error, explain why it's wrong, and provide the correct code.</p>
                
                <div class="code-block code-font">
                    <pre>
.data
numbers: .word -3, 12, -7, 8, 15, -2, 9
count:   .word 7
result:  .word 0

.text
main:
    la $t0, numbers
    lw $t1, count
    li $t2, 0        # sum of positive numbers
    
loop:
    lw $t3, 0($t0)
    bgtz $t3, add_positive
    j next
    
add_positive:
    add $t2, $t2, $t3
    
next:
    # ERROR 1: Wrong increment
    # FIX: 
    
    addi $t1, $t1, -1
    # ERROR 2: Off-by-one error
    # FIX: 
    
    # ERROR 3: Wrong addressing
    # FIX: 
    
    # Print result
    li $v0, 1
    # ERROR 4: Should use $t2 or load correctly
    # FIX: 
    syscall
    
    li $v0, 10
    syscall
                    </pre>
                </div>
            </article>

        </section>

        <section id="grading">
            <h2>Grading Rubric</h2>
            <div class="overflow-x-auto">
                <table class="min-w-full bg-white border border-[#EADDD7]">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="text-left py-2 px-4 border-b border-[#EADDD7]">Component</th>
                            <th class="text-left py-2 px-4 border-b border-[#EADDD7]">Points</th>
                            <th class="text-left py-2 px-4 border-b border-[#EADDD7]">Details</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="py-2 px-4 border-b border-[#EADDD7] font-semibold">Problem 1: Array Ops</td>
                            <td class="py-2 px-4 border-b border-[#EADDD7]">15</td>
                            <td class="py-2 px-4 border-b border-[#EADDD7]">Correct max (5), sum (3), reversal (5), output (2)</td>
                        </tr>
                        <tr>
                            <td class="py-2 px-4 border-b border-[#EADDD7] font-semibold">Problem 2: Palindrome</td>
                            <td class="py-2 px-4 border-b border-[#EADDD7]">10</td>
                            <td class="py-2 px-4 border-b border-[#EADDD7]">Correct algorithm (6), case/space handling (3), UI (1)</td>
                        </tr>
                        <tr>
                            <td class="py-2 px-4 border-b border-[#EADDD7] font-semibold">Problem 3: Recursion</td>
                            <td class="py-2 px-4 border-b border-[#EADDD7]">15</td>
                            <td class="py-2 px-4 border-b border-[#EADDD7]">Recursive logic (6), stack management (6), main program (3)</td>
                        </tr>
                        <tr>
                            <td class="py-2 px-4 border-b border-[#EADDD7] font-semibold">Problem 4: Debugging</td>
                            <td class="py-2 px-4 border-b border-[#EADDD7]">10</td>
                            <td class="py-2 px-4 border-b border-[#EADDD7]">Find all 4 errors (6), correct explanations (4)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section id="submission">
            <h2>Submission Requirements</h2>
            <p class="mb-2">Please submit a single compressed archive file containing your solutions for all four problems. Follow these instructions carefully:</p>
            <ul class="list-disc list-inside space-y-2 bg-blue-50 p-4 rounded-lg border border-blue-200">
                <li><strong>File Format:</strong> The archive must be in `.zip`, `.7z`, or `.rar` format.</li>
                <li><strong>File Naming:</strong> Name the archive `Midterm-partA` with the appropriate file extension (e.g., `Midterm-partA.zip`).</li>
                <li><strong>Contents:</strong> The archive must contain your four solution files (`problem1.asm`, `problem2.asm`, `problem3.asm`, `problem4.asm`).</li>
                <li><strong>Upload:</strong> Submit only the single compressed file to the course management system.</li>
            </ul>
        </section>

    </main>

</body>
</html>
